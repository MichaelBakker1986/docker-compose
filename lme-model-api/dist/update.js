'use strict';

var cov_fdbwryh1q = function () {
	var path = 'C:\\Users\\mbakk\\Documents\\fesjs\\lme-model-api\\update.js',
	    hash = '5dc6d24d9e4aa194b72a119dc1445e64325ff898',
	    Function = function () {}.constructor,
	    global = new Function('return this')(),
	    gcv = '__coverage__',
	    coverageData = {
		path: 'C:\\Users\\mbakk\\Documents\\fesjs\\lme-model-api\\update.js',
		statementMap: {
			'0': {
				start: {
					line: 15,
					column: 13
				},
				end: {
					line: 15,
					column: 17
				}
			},
			'1': {
				start: {
					line: 16,
					column: 13
				},
				end: {
					line: 16,
					column: 44
				}
			},
			'2': {
				start: {
					line: 17,
					column: 28
				},
				end: {
					line: 17,
					column: 67
				}
			},
			'3': {
				start: {
					line: 18,
					column: 18
				},
				end: {
					line: 18,
					column: 44
				}
			},
			'4': {
				start: {
					line: 19,
					column: 15
				},
				end: {
					line: 19,
					column: 87
				}
			},
			'5': {
				start: {
					line: 20,
					column: 12
				},
				end: {
					line: 20,
					column: 21
				}
			},
			'6': {
				start: {
					line: 21,
					column: 22
				},
				end: {
					line: 21,
					column: 27
				}
			},
			'7': {
				start: {
					line: 22,
					column: 23
				},
				end: {
					line: 22,
					column: 25
				}
			},
			'8': {
				start: {
					line: 23,
					column: 12
				},
				end: {
					line: 23,
					column: 66
				}
			},
			'9': {
				start: {
					line: 23,
					column: 32
				},
				end: {
					line: 23,
					column: 66
				}
			},
			'10': {
				start: {
					line: 28,
					column: 16
				},
				end: {
					line: 28,
					column: 44
				}
			},
			'11': {
				start: {
					line: 30,
					column: 17
				},
				end: {
					line: 33,
					column: 3
				}
			},
			'12': {
				start: {
					line: 34,
					column: 22
				},
				end: {
					line: 34,
					column: 42
				}
			},
			'13': {
				start: {
					line: 35,
					column: 1
				},
				end: {
					line: 35,
					column: 40
				}
			},
			'14': {
				start: {
					line: 36,
					column: 1
				},
				end: {
					line: 38,
					column: 3
				}
			},
			'15': {
				start: {
					line: 37,
					column: 2
				},
				end: {
					line: 37,
					column: 31
				}
			},
			'16': {
				start: {
					line: 39,
					column: 1
				},
				end: {
					line: 41,
					column: 3
				}
			},
			'17': {
				start: {
					line: 40,
					column: 2
				},
				end: {
					line: 40,
					column: 29
				}
			},
			'18': {
				start: {
					line: 42,
					column: 1
				},
				end: {
					line: 44,
					column: 3
				}
			},
			'19': {
				start: {
					line: 43,
					column: 2
				},
				end: {
					line: 43,
					column: 67
				}
			},
			'20': {
				start: {
					line: 45,
					column: 1
				},
				end: {
					line: 50,
					column: 3
				}
			},
			'21': {
				start: {
					line: 46,
					column: 2
				},
				end: {
					line: 46,
					column: 42
				}
			},
			'22': {
				start: {
					line: 49,
					column: 2
				},
				end: {
					line: 49,
					column: 39
				}
			},
			'23': {
				start: {
					line: 54,
					column: 1
				},
				end: {
					line: 54,
					column: 37
				}
			},
			'24': {
				start: {
					line: 55,
					column: 1
				},
				end: {
					line: 58,
					column: 3
				}
			},
			'25': {
				start: {
					line: 56,
					column: 2
				},
				end: {
					line: 56,
					column: 37
				}
			},
			'26': {
				start: {
					line: 57,
					column: 2
				},
				end: {
					line: 57,
					column: 24
				}
			},
			'27': {
				start: {
					line: 59,
					column: 1
				},
				end: {
					line: 59,
					column: 24
				}
			},
			'28': {
				start: {
					line: 63,
					column: 1
				},
				end: {
					line: 86,
					column: 3
				}
			},
			'29': {
				start: {
					line: 64,
					column: 2
				},
				end: {
					line: 85,
					column: 3
				}
			},
			'30': {
				start: {
					line: 65,
					column: 3
				},
				end: {
					line: 65,
					column: 29
				}
			},
			'31': {
				start: {
					line: 67,
					column: 15
				},
				end: {
					line: 67,
					column: 20
				}
			},
			'32': {
				start: {
					line: 68,
					column: 3
				},
				end: {
					line: 68,
					column: 25
				}
			},
			'33': {
				start: {
					line: 70,
					column: 19
				},
				end: {
					line: 70,
					column: 159
				}
			},
			'34': {
				start: {
					line: 71,
					column: 3
				},
				end: {
					line: 84,
					column: 5
				}
			},
			'35': {
				start: {
					line: 72,
					column: 4
				},
				end: {
					line: 72,
					column: 14
				}
			},
			'36': {
				start: {
					line: 73,
					column: 4
				},
				end: {
					line: 73,
					column: 77
				}
			},
			'37': {
				start: {
					line: 75,
					column: 4
				},
				end: {
					line: 75,
					column: 69
				}
			},
			'38': {
				start: {
					line: 76,
					column: 4
				},
				end: {
					line: 83,
					column: 6
				}
			},
			'39': {
				start: {
					line: 77,
					column: 5
				},
				end: {
					line: 77,
					column: 15
				}
			},
			'40': {
				start: {
					line: 78,
					column: 5
				},
				end: {
					line: 78,
					column: 78
				}
			},
			'41': {
				start: {
					line: 80,
					column: 5
				},
				end: {
					line: 80,
					column: 28
				}
			},
			'42': {
				start: {
					line: 81,
					column: 5
				},
				end: {
					line: 81,
					column: 31
				}
			},
			'43': {
				start: {
					line: 82,
					column: 5
				},
				end: {
					line: 82,
					column: 65
				}
			},
			'44': {
				start: {
					line: 89,
					column: 0
				},
				end: {
					line: 93,
					column: 2
				}
			},
			'45': {
				start: {
					line: 90,
					column: 1
				},
				end: {
					line: 92,
					column: 41
				}
			},
			'46': {
				start: {
					line: 91,
					column: 2
				},
				end: {
					line: 91,
					column: 28
				}
			},
			'47': {
				start: {
					line: 92,
					column: 17
				},
				end: {
					line: 92,
					column: 40
				}
			},
			'48': {
				start: {
					line: 95,
					column: 0
				},
				end: {
					line: 99,
					column: 2
				}
			},
			'49': {
				start: {
					line: 96,
					column: 1
				},
				end: {
					line: 98,
					column: 41
				}
			},
			'50': {
				start: {
					line: 97,
					column: 2
				},
				end: {
					line: 97,
					column: 28
				}
			},
			'51': {
				start: {
					line: 98,
					column: 17
				},
				end: {
					line: 98,
					column: 40
				}
			},
			'52': {
				start: {
					line: 102,
					column: 1
				},
				end: {
					line: 125,
					column: 3
				}
			},
			'53': {
				start: {
					line: 103,
					column: 2
				},
				end: {
					line: 103,
					column: 54
				}
			},
			'54': {
				start: {
					line: 103,
					column: 17
				},
				end: {
					line: 103,
					column: 54
				}
			},
			'55': {
				start: {
					line: 104,
					column: 18
				},
				end: {
					line: 104,
					column: 56
				}
			},
			'56': {
				start: {
					line: 106,
					column: 2
				},
				end: {
					line: 124,
					column: 4
				}
			},
			'57': {
				start: {
					line: 107,
					column: 22
				},
				end: {
					line: 107,
					column: 69
				}
			},
			'58': {
				start: {
					line: 108,
					column: 3
				},
				end: {
					line: 120,
					column: 4
				}
			},
			'59': {
				start: {
					line: 109,
					column: 4
				},
				end: {
					line: 114,
					column: 6
				}
			},
			'60': {
				start: {
					line: 110,
					column: 5
				},
				end: {
					line: 113,
					column: 8
				}
			},
			'61': {
				start: {
					line: 116,
					column: 4
				},
				end: {
					line: 119,
					column: 7
				}
			},
			'62': {
				start: {
					line: 122,
					column: 3
				},
				end: {
					line: 122,
					column: 29
				}
			},
			'63': {
				start: {
					line: 123,
					column: 3
				},
				end: {
					line: 123,
					column: 46
				}
			},
			'64': {
				start: {
					line: 129,
					column: 1
				},
				end: {
					line: 129,
					column: 75
				}
			},
			'65': {
				start: {
					line: 129,
					column: 17
				},
				end: {
					line: 129,
					column: 75
				}
			},
			'66': {
				start: {
					line: 130,
					column: 15
				},
				end: {
					line: 130,
					column: 20
				}
			},
			'67': {
				start: {
					line: 131,
					column: 17
				},
				end: {
					line: 131,
					column: 85
				}
			},
			'68': {
				start: {
					line: 132,
					column: 1
				},
				end: {
					line: 143,
					column: 3
				}
			},
			'69': {
				start: {
					line: 133,
					column: 2
				},
				end: {
					line: 133,
					column: 58
				}
			},
			'70': {
				start: {
					line: 134,
					column: 2
				},
				end: {
					line: 134,
					column: 73
				}
			},
			'71': {
				start: {
					line: 135,
					column: 2
				},
				end: {
					line: 135,
					column: 66
				}
			},
			'72': {
				start: {
					line: 136,
					column: 2
				},
				end: {
					line: 136,
					column: 62
				}
			},
			'73': {
				start: {
					line: 137,
					column: 2
				},
				end: {
					line: 137,
					column: 65
				}
			},
			'74': {
				start: {
					line: 138,
					column: 2
				},
				end: {
					line: 138,
					column: 19
				}
			},
			'75': {
				start: {
					line: 139,
					column: 2
				},
				end: {
					line: 139,
					column: 91
				}
			},
			'76': {
				start: {
					line: 141,
					column: 2
				},
				end: {
					line: 141,
					column: 78
				}
			},
			'77': {
				start: {
					line: 142,
					column: 2
				},
				end: {
					line: 142,
					column: 30
				}
			},
			'78': {
				start: {
					line: 148,
					column: 1
				},
				end: {
					line: 158,
					column: 10
				}
			},
			'79': {
				start: {
					line: 149,
					column: 17
				},
				end: {
					line: 149,
					column: 33
				}
			},
			'80': {
				start: {
					line: 150,
					column: 2
				},
				end: {
					line: 154,
					column: 4
				}
			},
			'81': {
				start: {
					line: 151,
					column: 3
				},
				end: {
					line: 153,
					column: 4
				}
			},
			'82': {
				start: {
					line: 152,
					column: 4
				},
				end: {
					line: 152,
					column: 45
				}
			},
			'83': {
				start: {
					line: 155,
					column: 2
				},
				end: {
					line: 157,
					column: 56
				}
			},
			'84': {
				start: {
					line: 156,
					column: 3
				},
				end: {
					line: 156,
					column: 33
				}
			},
			'85': {
				start: {
					line: 156,
					column: 18
				},
				end: {
					line: 156,
					column: 33
				}
			},
			'86': {
				start: {
					line: 157,
					column: 18
				},
				end: {
					line: 157,
					column: 55
				}
			},
			'87': {
				start: {
					line: 161,
					column: 0
				},
				end: {
					line: 164,
					column: 2
				}
			},
			'88': {
				start: {
					line: 162,
					column: 1
				},
				end: {
					line: 162,
					column: 33
				}
			},
			'89': {
				start: {
					line: 162,
					column: 16
				},
				end: {
					line: 162,
					column: 33
				}
			},
			'90': {
				start: {
					line: 163,
					column: 1
				},
				end: {
					line: 163,
					column: 116
				}
			},
			'91': {
				start: {
					line: 166,
					column: 0
				},
				end: {
					line: 166,
					column: 15
				}
			}
		},
		fnMap: {
			'0': {
				name: '(anonymous_0)',
				decl: {
					start: {
						line: 23,
						column: 12
					},
					end: {
						line: 23,
						column: 13
					}
				},
				loc: {
					start: {
						line: 23,
						column: 32
					},
					end: {
						line: 23,
						column: 66
					}
				},
				line: 23
			},
			'1': {
				name: 'spawnChildProcess',
				decl: {
					start: {
						line: 27,
						column: 9
					},
					end: {
						line: 27,
						column: 26
					}
				},
				loc: {
					start: {
						line: 27,
						column: 37
					},
					end: {
						line: 51,
						column: 1
					}
				},
				line: 27
			},
			'2': {
				name: '(anonymous_2)',
				decl: {
					start: {
						line: 36,
						column: 32
					},
					end: {
						line: 36,
						column: 33
					}
				},
				loc: {
					start: {
						line: 36,
						column: 40
					},
					end: {
						line: 38,
						column: 2
					}
				},
				line: 36
			},
			'3': {
				name: '(anonymous_3)',
				decl: {
					start: {
						line: 39,
						column: 32
					},
					end: {
						line: 39,
						column: 33
					}
				},
				loc: {
					start: {
						line: 39,
						column: 40
					},
					end: {
						line: 41,
						column: 2
					}
				},
				line: 39
			},
			'4': {
				name: '(anonymous_4)',
				decl: {
					start: {
						line: 42,
						column: 26
					},
					end: {
						line: 42,
						column: 27
					}
				},
				loc: {
					start: {
						line: 42,
						column: 34
					},
					end: {
						line: 44,
						column: 2
					}
				},
				line: 42
			},
			'5': {
				name: '(anonymous_5)',
				decl: {
					start: {
						line: 45,
						column: 14
					},
					end: {
						line: 45,
						column: 15
					}
				},
				loc: {
					start: {
						line: 45,
						column: 25
					},
					end: {
						line: 47,
						column: 2
					}
				},
				line: 45
			},
			'6': {
				name: '(anonymous_6)',
				decl: {
					start: {
						line: 48,
						column: 8
					},
					end: {
						line: 48,
						column: 9
					}
				},
				loc: {
					start: {
						line: 48,
						column: 22
					},
					end: {
						line: 50,
						column: 2
					}
				},
				line: 48
			},
			'7': {
				name: 'redeploy',
				decl: {
					start: {
						line: 53,
						column: 9
					},
					end: {
						line: 53,
						column: 17
					}
				},
				loc: {
					start: {
						line: 53,
						column: 20
					},
					end: {
						line: 60,
						column: 1
					}
				},
				line: 53
			},
			'8': {
				name: '(anonymous_8)',
				decl: {
					start: {
						line: 55,
						column: 37
					},
					end: {
						line: 55,
						column: 38
					}
				},
				loc: {
					start: {
						line: 55,
						column: 44
					},
					end: {
						line: 58,
						column: 2
					}
				},
				line: 55
			},
			'9': {
				name: 'pullBranchAndRedeploy',
				decl: {
					start: {
						line: 62,
						column: 9
					},
					end: {
						line: 62,
						column: 30
					}
				},
				loc: {
					start: {
						line: 62,
						column: 33
					},
					end: {
						line: 87,
						column: 1
					}
				},
				line: 62
			},
			'10': {
				name: '(anonymous_10)',
				decl: {
					start: {
						line: 63,
						column: 20
					},
					end: {
						line: 63,
						column: 21
					}
				},
				loc: {
					start: {
						line: 63,
						column: 41
					},
					end: {
						line: 86,
						column: 2
					}
				},
				line: 63
			},
			'11': {
				name: '(anonymous_11)',
				decl: {
					start: {
						line: 71,
						column: 22
					},
					end: {
						line: 71,
						column: 23
					}
				},
				loc: {
					start: {
						line: 71,
						column: 28
					},
					end: {
						line: 74,
						column: 4
					}
				},
				line: 71
			},
			'12': {
				name: '(anonymous_12)',
				decl: {
					start: {
						line: 74,
						column: 12
					},
					end: {
						line: 74,
						column: 13
					}
				},
				loc: {
					start: {
						line: 74,
						column: 18
					},
					end: {
						line: 84,
						column: 4
					}
				},
				line: 74
			},
			'13': {
				name: '(anonymous_13)',
				decl: {
					start: {
						line: 76,
						column: 50
					},
					end: {
						line: 76,
						column: 51
					}
				},
				loc: {
					start: {
						line: 76,
						column: 56
					},
					end: {
						line: 79,
						column: 5
					}
				},
				line: 76
			},
			'14': {
				name: '(anonymous_14)',
				decl: {
					start: {
						line: 79,
						column: 13
					},
					end: {
						line: 79,
						column: 14
					}
				},
				loc: {
					start: {
						line: 79,
						column: 22
					},
					end: {
						line: 83,
						column: 5
					}
				},
				line: 79
			},
			'15': {
				name: '(anonymous_15)',
				decl: {
					start: {
						line: 89,
						column: 36
					},
					end: {
						line: 89,
						column: 37
					}
				},
				loc: {
					start: {
						line: 89,
						column: 56
					},
					end: {
						line: 93,
						column: 1
					}
				},
				line: 89
			},
			'16': {
				name: '(anonymous_16)',
				decl: {
					start: {
						line: 90,
						column: 30
					},
					end: {
						line: 90,
						column: 31
					}
				},
				loc: {
					start: {
						line: 90,
						column: 40
					},
					end: {
						line: 92,
						column: 2
					}
				},
				line: 90
			},
			'17': {
				name: '(anonymous_17)',
				decl: {
					start: {
						line: 92,
						column: 10
					},
					end: {
						line: 92,
						column: 11
					}
				},
				loc: {
					start: {
						line: 92,
						column: 17
					},
					end: {
						line: 92,
						column: 40
					}
				},
				line: 92
			},
			'18': {
				name: '(anonymous_18)',
				decl: {
					start: {
						line: 95,
						column: 24
					},
					end: {
						line: 95,
						column: 25
					}
				},
				loc: {
					start: {
						line: 95,
						column: 44
					},
					end: {
						line: 99,
						column: 1
					}
				},
				line: 95
			},
			'19': {
				name: '(anonymous_19)',
				decl: {
					start: {
						line: 96,
						column: 24
					},
					end: {
						line: 96,
						column: 25
					}
				},
				loc: {
					start: {
						line: 96,
						column: 36
					},
					end: {
						line: 98,
						column: 2
					}
				},
				line: 96
			},
			'20': {
				name: '(anonymous_20)',
				decl: {
					start: {
						line: 98,
						column: 10
					},
					end: {
						line: 98,
						column: 11
					}
				},
				loc: {
					start: {
						line: 98,
						column: 17
					},
					end: {
						line: 98,
						column: 40
					}
				},
				line: 98
			},
			'21': {
				name: 'checkForUpdates',
				decl: {
					start: {
						line: 101,
						column: 9
					},
					end: {
						line: 101,
						column: 24
					}
				},
				loc: {
					start: {
						line: 101,
						column: 27
					},
					end: {
						line: 126,
						column: 1
					}
				},
				line: 101
			},
			'22': {
				name: '(anonymous_22)',
				decl: {
					start: {
						line: 102,
						column: 20
					},
					end: {
						line: 102,
						column: 21
					}
				},
				loc: {
					start: {
						line: 102,
						column: 41
					},
					end: {
						line: 125,
						column: 2
					}
				},
				line: 102
			},
			'23': {
				name: '(anonymous_23)',
				decl: {
					start: {
						line: 106,
						column: 21
					},
					end: {
						line: 106,
						column: 22
					}
				},
				loc: {
					start: {
						line: 106,
						column: 33
					},
					end: {
						line: 121,
						column: 3
					}
				},
				line: 106
			},
			'24': {
				name: '(anonymous_24)',
				decl: {
					start: {
						line: 109,
						column: 47
					},
					end: {
						line: 109,
						column: 48
					}
				},
				loc: {
					start: {
						line: 109,
						column: 57
					},
					end: {
						line: 114,
						column: 5
					}
				},
				line: 109
			},
			'25': {
				name: '(anonymous_25)',
				decl: {
					start: {
						line: 121,
						column: 11
					},
					end: {
						line: 121,
						column: 12
					}
				},
				loc: {
					start: {
						line: 121,
						column: 18
					},
					end: {
						line: 124,
						column: 3
					}
				},
				line: 121
			},
			'26': {
				name: 'testAndDeploy',
				decl: {
					start: {
						line: 128,
						column: 9
					},
					end: {
						line: 128,
						column: 22
					}
				},
				loc: {
					start: {
						line: 128,
						column: 25
					},
					end: {
						line: 144,
						column: 1
					}
				},
				line: 128
			},
			'27': {
				name: '(anonymous_27)',
				decl: {
					start: {
						line: 132,
						column: 20
					},
					end: {
						line: 132,
						column: 21
					}
				},
				loc: {
					start: {
						line: 132,
						column: 26
					},
					end: {
						line: 140,
						column: 2
					}
				},
				line: 132
			},
			'28': {
				name: '(anonymous_28)',
				decl: {
					start: {
						line: 140,
						column: 10
					},
					end: {
						line: 140,
						column: 11
					}
				},
				loc: {
					start: {
						line: 140,
						column: 19
					},
					end: {
						line: 143,
						column: 2
					}
				},
				line: 140
			},
			'29': {
				name: 'registerToProxy',
				decl: {
					start: {
						line: 146,
						column: 9
					},
					end: {
						line: 146,
						column: 24
					}
				},
				loc: {
					start: {
						line: 146,
						column: 27
					},
					end: {
						line: 159,
						column: 1
					}
				},
				line: 146
			},
			'30': {
				name: '(anonymous_30)',
				decl: {
					start: {
						line: 148,
						column: 12
					},
					end: {
						line: 148,
						column: 13
					}
				},
				loc: {
					start: {
						line: 148,
						column: 23
					},
					end: {
						line: 158,
						column: 2
					}
				},
				line: 148
			},
			'31': {
				name: '(anonymous_31)',
				decl: {
					start: {
						line: 150,
						column: 28
					},
					end: {
						line: 150,
						column: 29
					}
				},
				loc: {
					start: {
						line: 150,
						column: 49
					},
					end: {
						line: 154,
						column: 3
					}
				},
				line: 150
			},
			'32': {
				name: '(anonymous_32)',
				decl: {
					start: {
						line: 155,
						column: 124
					},
					end: {
						line: 155,
						column: 125
					}
				},
				loc: {
					start: {
						line: 155,
						column: 132
					},
					end: {
						line: 157,
						column: 3
					}
				},
				line: 155
			},
			'33': {
				name: '(anonymous_33)',
				decl: {
					start: {
						line: 157,
						column: 11
					},
					end: {
						line: 157,
						column: 12
					}
				},
				loc: {
					start: {
						line: 157,
						column: 18
					},
					end: {
						line: 157,
						column: 55
					}
				},
				line: 157
			},
			'34': {
				name: '(anonymous_34)',
				decl: {
					start: {
						line: 161,
						column: 17
					},
					end: {
						line: 161,
						column: 18
					}
				},
				loc: {
					start: {
						line: 161,
						column: 23
					},
					end: {
						line: 164,
						column: 1
					}
				},
				line: 161
			}
		},
		branchMap: {
			'0': {
				loc: {
					start: {
						line: 16,
						column: 13
					},
					end: {
						line: 16,
						column: 44
					}
				},
				type: 'binary-expr',
				locations: [{
					start: {
						line: 16,
						column: 13
					},
					end: {
						line: 16,
						column: 29
					}
				}, {
					start: {
						line: 16,
						column: 33
					},
					end: {
						line: 16,
						column: 44
					}
				}],
				line: 16
			},
			'1': {
				loc: {
					start: {
						line: 17,
						column: 28
					},
					end: {
						line: 17,
						column: 67
					}
				},
				type: 'binary-expr',
				locations: [{
					start: {
						line: 17,
						column: 28
					},
					end: {
						line: 17,
						column: 59
					}
				}, {
					start: {
						line: 17,
						column: 63
					},
					end: {
						line: 17,
						column: 67
					}
				}],
				line: 17
			},
			'2': {
				loc: {
					start: {
						line: 19,
						column: 15
					},
					end: {
						line: 19,
						column: 87
					}
				},
				type: 'binary-expr',
				locations: [{
					start: {
						line: 19,
						column: 15
					},
					end: {
						line: 19,
						column: 33
					}
				}, {
					start: {
						line: 19,
						column: 38
					},
					end: {
						line: 19,
						column: 86
					}
				}],
				line: 19
			},
			'3': {
				loc: {
					start: {
						line: 64,
						column: 2
					},
					end: {
						line: 85,
						column: 3
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 64,
						column: 2
					},
					end: {
						line: 85,
						column: 3
					}
				}, {
					start: {
						line: 64,
						column: 2
					},
					end: {
						line: 85,
						column: 3
					}
				}],
				line: 64
			},
			'4': {
				loc: {
					start: {
						line: 70,
						column: 19
					},
					end: {
						line: 70,
						column: 159
					}
				},
				type: 'cond-expr',
				locations: [{
					start: {
						line: 70,
						column: 31
					},
					end: {
						line: 70,
						column: 60
					}
				}, {
					start: {
						line: 70,
						column: 63
					},
					end: {
						line: 70,
						column: 159
					}
				}],
				line: 70
			},
			'5': {
				loc: {
					start: {
						line: 103,
						column: 2
					},
					end: {
						line: 103,
						column: 54
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 103,
						column: 2
					},
					end: {
						line: 103,
						column: 54
					}
				}, {
					start: {
						line: 103,
						column: 2
					},
					end: {
						line: 103,
						column: 54
					}
				}],
				line: 103
			},
			'6': {
				loc: {
					start: {
						line: 108,
						column: 3
					},
					end: {
						line: 120,
						column: 4
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 108,
						column: 3
					},
					end: {
						line: 120,
						column: 4
					}
				}, {
					start: {
						line: 108,
						column: 3
					},
					end: {
						line: 120,
						column: 4
					}
				}],
				line: 108
			},
			'7': {
				loc: {
					start: {
						line: 129,
						column: 1
					},
					end: {
						line: 129,
						column: 75
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 129,
						column: 1
					},
					end: {
						line: 129,
						column: 75
					}
				}, {
					start: {
						line: 129,
						column: 1
					},
					end: {
						line: 129,
						column: 75
					}
				}],
				line: 129
			},
			'8': {
				loc: {
					start: {
						line: 131,
						column: 17
					},
					end: {
						line: 131,
						column: 85
					}
				},
				type: 'cond-expr',
				locations: [{
					start: {
						line: 131,
						column: 29
					},
					end: {
						line: 131,
						column: 48
					}
				}, {
					start: {
						line: 131,
						column: 51
					},
					end: {
						line: 131,
						column: 85
					}
				}],
				line: 131
			},
			'9': {
				loc: {
					start: {
						line: 151,
						column: 3
					},
					end: {
						line: 153,
						column: 4
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 151,
						column: 3
					},
					end: {
						line: 153,
						column: 4
					}
				}, {
					start: {
						line: 151,
						column: 3
					},
					end: {
						line: 153,
						column: 4
					}
				}],
				line: 151
			},
			'10': {
				loc: {
					start: {
						line: 151,
						column: 7
					},
					end: {
						line: 151,
						column: 62
					}
				},
				type: 'binary-expr',
				locations: [{
					start: {
						line: 151,
						column: 7
					},
					end: {
						line: 151,
						column: 30
					}
				}, {
					start: {
						line: 151,
						column: 34
					},
					end: {
						line: 151,
						column: 62
					}
				}],
				line: 151
			},
			'11': {
				loc: {
					start: {
						line: 156,
						column: 3
					},
					end: {
						line: 156,
						column: 33
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 156,
						column: 3
					},
					end: {
						line: 156,
						column: 33
					}
				}, {
					start: {
						line: 156,
						column: 3
					},
					end: {
						line: 156,
						column: 33
					}
				}],
				line: 156
			},
			'12': {
				loc: {
					start: {
						line: 162,
						column: 1
					},
					end: {
						line: 162,
						column: 33
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 162,
						column: 1
					},
					end: {
						line: 162,
						column: 33
					}
				}, {
					start: {
						line: 162,
						column: 1
					},
					end: {
						line: 162,
						column: 33
					}
				}],
				line: 162
			}
		},
		s: {
			'0': 0,
			'1': 0,
			'2': 0,
			'3': 0,
			'4': 0,
			'5': 0,
			'6': 0,
			'7': 0,
			'8': 0,
			'9': 0,
			'10': 0,
			'11': 0,
			'12': 0,
			'13': 0,
			'14': 0,
			'15': 0,
			'16': 0,
			'17': 0,
			'18': 0,
			'19': 0,
			'20': 0,
			'21': 0,
			'22': 0,
			'23': 0,
			'24': 0,
			'25': 0,
			'26': 0,
			'27': 0,
			'28': 0,
			'29': 0,
			'30': 0,
			'31': 0,
			'32': 0,
			'33': 0,
			'34': 0,
			'35': 0,
			'36': 0,
			'37': 0,
			'38': 0,
			'39': 0,
			'40': 0,
			'41': 0,
			'42': 0,
			'43': 0,
			'44': 0,
			'45': 0,
			'46': 0,
			'47': 0,
			'48': 0,
			'49': 0,
			'50': 0,
			'51': 0,
			'52': 0,
			'53': 0,
			'54': 0,
			'55': 0,
			'56': 0,
			'57': 0,
			'58': 0,
			'59': 0,
			'60': 0,
			'61': 0,
			'62': 0,
			'63': 0,
			'64': 0,
			'65': 0,
			'66': 0,
			'67': 0,
			'68': 0,
			'69': 0,
			'70': 0,
			'71': 0,
			'72': 0,
			'73': 0,
			'74': 0,
			'75': 0,
			'76': 0,
			'77': 0,
			'78': 0,
			'79': 0,
			'80': 0,
			'81': 0,
			'82': 0,
			'83': 0,
			'84': 0,
			'85': 0,
			'86': 0,
			'87': 0,
			'88': 0,
			'89': 0,
			'90': 0,
			'91': 0
		},
		f: {
			'0': 0,
			'1': 0,
			'2': 0,
			'3': 0,
			'4': 0,
			'5': 0,
			'6': 0,
			'7': 0,
			'8': 0,
			'9': 0,
			'10': 0,
			'11': 0,
			'12': 0,
			'13': 0,
			'14': 0,
			'15': 0,
			'16': 0,
			'17': 0,
			'18': 0,
			'19': 0,
			'20': 0,
			'21': 0,
			'22': 0,
			'23': 0,
			'24': 0,
			'25': 0,
			'26': 0,
			'27': 0,
			'28': 0,
			'29': 0,
			'30': 0,
			'31': 0,
			'32': 0,
			'33': 0,
			'34': 0
		},
		b: {
			'0': [0, 0],
			'1': [0, 0],
			'2': [0, 0],
			'3': [0, 0],
			'4': [0, 0],
			'5': [0, 0],
			'6': [0, 0],
			'7': [0, 0],
			'8': [0, 0],
			'9': [0, 0],
			'10': [0, 0],
			'11': [0, 0],
			'12': [0, 0]
		},
		_coverageSchema: 'd34fc3e6b8297bcde183f5492bcb8fcb36775295'
	},
	    coverage = global[gcv] || (global[gcv] = {});

	if (coverage[path] && coverage[path].hash === hash) {
		return coverage[path];
	}

	coverageData.hash = hash;
	return coverage[path] = coverageData;
}(); /**
      * The server will not update from remote in developer mode.
      * @type {number}
      */
//const developer = (host === 'localhost' || host === '127.0.0.1');


var _regenerator = require('babel-runtime/regenerator');

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _express = require('express');

var _express2 = _interopRequireDefault(_express);

var _performanceNow = require('performance-now');

var _performanceNow2 = _interopRequireDefault(_performanceNow);

var _requestPromiseJson = require('request-promise-json');

var _requestPromiseJson2 = _interopRequireDefault(_requestPromiseJson);

var _childProcessPromise = require('child-process-promise');

var _path = require('path');

var _path2 = _interopRequireDefault(_path);

var _HipchatConnect = require('./hipchat/Hipchat-connect');

var _HipchatConnect2 = _interopRequireDefault(_HipchatConnect);

var _fs = require('fs');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var port = (cov_fdbwryh1q.s[0]++, 8081);
var host = (cov_fdbwryh1q.s[1]++, (cov_fdbwryh1q.b[0][0]++, process.env.HOST) || (cov_fdbwryh1q.b[0][1]++, '127.0.0.1'));
var internal_proxy_port = (cov_fdbwryh1q.s[2]++, (cov_fdbwryh1q.b[1][0]++, process.env.INTERNAL_PROXY_PORT) || (cov_fdbwryh1q.b[1][1]++, 7081));
var developer = (cov_fdbwryh1q.s[3]++, process.env.DOMAIN == null);
var domain = (cov_fdbwryh1q.s[4]++, (cov_fdbwryh1q.b[2][0]++, process.env.DOMAIN) || (cov_fdbwryh1q.b[2][1]++, 'http://' + host + ':' + internal_proxy_port + '/id/guest'));
var app = (cov_fdbwryh1q.s[5]++, (0, _express2.default)());
var busyRedeploying = (cov_fdbwryh1q.s[6]++, false);
var childProcesses = (cov_fdbwryh1q.s[7]++, {});
cov_fdbwryh1q.s[8]++;
var log = function log(message, level) {
	cov_fdbwryh1q.f[0]++;
	cov_fdbwryh1q.s[9]++;
	return _HipchatConnect2.default.log(message, level);
};

//const debug = process.env.NODE_ENV !== 'production'

function spawnChildProcess(app_name) {
	cov_fdbwryh1q.f[1]++;

	var exists = (cov_fdbwryh1q.s[10]++, (0, _fs.existsSync)(app_name + '.js'));
	//	if (!exists) throw Error(`File does not exist ${app_name}.js`)
	var promise = (cov_fdbwryh1q.s[11]++, (0, _childProcessPromise.spawn)('node', ['-r', 'babel-register', '' + app_name], {
		maxBuffer: 1024 * 500,
		capture: ['stdout', 'stderr']
	}));
	var childProcess = (cov_fdbwryh1q.s[12]++, promise.childProcess);
	cov_fdbwryh1q.s[13]++;
	childProcesses[app_name] = childProcess;
	cov_fdbwryh1q.s[14]++;
	childProcess.stdout.on('data', function (data) {
		cov_fdbwryh1q.f[2]++;
		cov_fdbwryh1q.s[15]++;

		log(data.toString(), 'green');
	});
	cov_fdbwryh1q.s[16]++;
	childProcess.stderr.on('data', function (data) {
		cov_fdbwryh1q.f[3]++;
		cov_fdbwryh1q.s[17]++;

		log(data.toString(), 'red');
	});
	cov_fdbwryh1q.s[18]++;
	childProcess.on('close', function (code) {
		cov_fdbwryh1q.f[4]++;
		cov_fdbwryh1q.s[19]++;

		console.log('child process exited with code ' + code + ' ' + app_name);
	});
	cov_fdbwryh1q.s[20]++;
	promise.then(function () {
		cov_fdbwryh1q.f[5]++;
		cov_fdbwryh1q.s[21]++;

		console.log('[spawn] done! ' + app_name);
	}).catch(function (err) {
		cov_fdbwryh1q.f[6]++;
		cov_fdbwryh1q.s[22]++;

		console.error('[spawn] ERROR: ', err);
	});
}

function redeploy() {
	cov_fdbwryh1q.f[7]++;
	cov_fdbwryh1q.s[23]++;

	log('Tests passed deploying stack ');
	cov_fdbwryh1q.s[24]++;
	Object.keys(childProcesses).forEach(function (key) {
		cov_fdbwryh1q.f[8]++;
		cov_fdbwryh1q.s[25]++;

		childProcesses[key].kill('SIGKILL');
		cov_fdbwryh1q.s[26]++;
		spawnChildProcess(key);
	});
	cov_fdbwryh1q.s[27]++;
	busyRedeploying = false;
}

function pullBranchAndRedeploy() {
	cov_fdbwryh1q.f[9]++;
	cov_fdbwryh1q.s[28]++;

	return new Promise(function (fulfill, reject) {
		cov_fdbwryh1q.f[10]++;
		cov_fdbwryh1q.s[29]++;

		if (busyRedeploying) {
			cov_fdbwryh1q.b[3][0]++;
			cov_fdbwryh1q.s[30]++;

			reject('Busy restarting.');
		} else {
			cov_fdbwryh1q.b[3][1]++;

			var start = (cov_fdbwryh1q.s[31]++, (0, _performanceNow2.default)());
			cov_fdbwryh1q.s[32]++;
			busyRedeploying = true;
			//npm install && bower install
			var command = (cov_fdbwryh1q.s[33]++, developer ? (cov_fdbwryh1q.b[4][0]++, 'echo developer test message') : (cov_fdbwryh1q.b[4][1]++, 'git clean -f -x && git stash save --keep-index && git pull && cd .. && npm install && npm test'));
			cov_fdbwryh1q.s[34]++;
			(0, _childProcessPromise.exec)(command).then(function () {
				cov_fdbwryh1q.f[11]++;
				cov_fdbwryh1q.s[35]++;

				redeploy();
				cov_fdbwryh1q.s[36]++;
				fulfill('Successful redeploy stack in [' + ((0, _performanceNow2.default)() - start).toFixed(3) + ']ms');
			}).catch(function () {
				cov_fdbwryh1q.f[12]++;
				cov_fdbwryh1q.s[37]++;

				log('Tests failed, reinstalling modules and try again.', 'green');
				cov_fdbwryh1q.s[38]++;
				(0, _childProcessPromise.exec)('cd .. && npm install && npm test').then(function () {
					cov_fdbwryh1q.f[13]++;
					cov_fdbwryh1q.s[39]++;

					redeploy();
					cov_fdbwryh1q.s[40]++;
					fulfill('Successful redeploy stack in [' + ((0, _performanceNow2.default)() - start).toFixed(3) + ']ms');
				}).catch(function (err) {
					cov_fdbwryh1q.f[14]++;
					cov_fdbwryh1q.s[41]++;

					busyRedeploying = false;
					cov_fdbwryh1q.s[42]++;
					log(err.toString(), 'red');
					cov_fdbwryh1q.s[43]++;
					reject('Fail restarting because\n: ' + err.stack.toString());
				});
			});
		}
	});
}

cov_fdbwryh1q.s[44]++;
app.get('*/update/git/notifyCommit', function () {
	var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(req, res) {
		return _regenerator2.default.wrap(function _callee$(_context) {
			while (1) {
				switch (_context.prev = _context.next) {
					case 0:
						cov_fdbwryh1q.f[15]++;
						cov_fdbwryh1q.s[45]++;

						pullBranchAndRedeploy().then(function (result) {
							cov_fdbwryh1q.f[16]++;
							cov_fdbwryh1q.s[46]++;

							res.end(result.toString());
						}).catch(function (err) {
							cov_fdbwryh1q.f[17]++;
							cov_fdbwryh1q.s[47]++;
							return res.end(err.toString());
						});

					case 3:
					case 'end':
						return _context.stop();
				}
			}
		}, _callee, undefined);
	}));

	return function (_x, _x2) {
		return _ref.apply(this, arguments);
	};
}());

cov_fdbwryh1q.s[48]++;
app.get('*/hasUpdates', function () {
	var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(req, res) {
		return _regenerator2.default.wrap(function _callee2$(_context2) {
			while (1) {
				switch (_context2.prev = _context2.next) {
					case 0:
						cov_fdbwryh1q.f[18]++;
						cov_fdbwryh1q.s[49]++;

						checkForUpdates().then(function (result) {
							cov_fdbwryh1q.f[19]++;
							cov_fdbwryh1q.s[50]++;

							res.end(result.toString());
						}).catch(function (err) {
							cov_fdbwryh1q.f[20]++;
							cov_fdbwryh1q.s[51]++;
							return res.end(err.toString());
						});

					case 3:
					case 'end':
						return _context2.stop();
				}
			}
		}, _callee2, undefined);
	}));

	return function (_x3, _x4) {
		return _ref2.apply(this, arguments);
	};
}());

function checkForUpdates() {
	cov_fdbwryh1q.f[21]++;
	cov_fdbwryh1q.s[52]++;

	return new Promise(function (fulfill, reject) {
		cov_fdbwryh1q.f[22]++;
		cov_fdbwryh1q.s[53]++;

		if (developer) {
				cov_fdbwryh1q.b[5][0]++;
				cov_fdbwryh1q.s[54]++;
				return fulfill({ hasChanges: false });
			} else {
			cov_fdbwryh1q.b[5][1]++;
		}var command = (cov_fdbwryh1q.s[55]++, 'git remote update && git status -uno');
		//'git diff --stat origin/master';
		cov_fdbwryh1q.s[56]++;
		(0, _childProcessPromise.exec)(command).then(function (result) {
			cov_fdbwryh1q.f[23]++;

			var hasChanges = (cov_fdbwryh1q.s[57]++, result.stdout.includes('Your branch is behind'));
			cov_fdbwryh1q.s[58]++;
			if (hasChanges) {
				cov_fdbwryh1q.b[6][0]++;
				cov_fdbwryh1q.s[59]++;

				(0, _childProcessPromise.exec)('git diff --stat origin/master').then(function (result) {
					cov_fdbwryh1q.f[24]++;
					cov_fdbwryh1q.s[60]++;

					fulfill(JSON.stringify({
						hasChanges: hasChanges,
						changes: result.stdout.toString()
					}));
				});
			} else {
				cov_fdbwryh1q.b[6][1]++;
				cov_fdbwryh1q.s[61]++;

				fulfill(JSON.stringify({
					hasChanges: hasChanges,
					changes: result.stdout.toString()
				}));
			}
		}).catch(function (err) {
			cov_fdbwryh1q.f[25]++;
			cov_fdbwryh1q.s[62]++;

			log(err.toString(), 'red');
			cov_fdbwryh1q.s[63]++;
			reject('Fail restarting ' + err.toString());
		});
	});
}

function testAndDeploy() {
	cov_fdbwryh1q.f[26]++;
	cov_fdbwryh1q.s[64]++;

	if (!developer) {
			cov_fdbwryh1q.b[7][0]++;
			cov_fdbwryh1q.s[65]++;
			log('Running integration tests on server ' + host, 'info');
		} else {
		cov_fdbwryh1q.b[7][1]++;
	}var start = (cov_fdbwryh1q.s[66]++, (0, _performanceNow2.default)());
	var command = (cov_fdbwryh1q.s[67]++, developer ? (cov_fdbwryh1q.b[8][0]++, 'echo test message') : (cov_fdbwryh1q.b[8][1]++, 'cd .. && npm install && npm test'));
	cov_fdbwryh1q.s[68]++;
	(0, _childProcessPromise.exec)(command).then(function () {
		cov_fdbwryh1q.f[27]++;
		cov_fdbwryh1q.s[69]++;

		spawnChildProcess(_path2.default.resolve(__dirname + '/../proxy'));
		cov_fdbwryh1q.s[70]++;
		spawnChildProcess(_path2.default.resolve(__dirname + '/../proxy/SecurityPortal'));
		cov_fdbwryh1q.s[71]++;
		spawnChildProcess(_path2.default.resolve(__dirname + '/../lme-model-api'));
		cov_fdbwryh1q.s[72]++;
		spawnChildProcess(_path2.default.resolve(__dirname + '/../demo-apps'));
		cov_fdbwryh1q.s[73]++;
		spawnChildProcess(_path2.default.resolve(__dirname + '/../lme-data-api'));
		cov_fdbwryh1q.s[74]++;
		registerToProxy();
		cov_fdbwryh1q.s[75]++;
		log('Successful deploy application ' + domain + ' in ' + (((0, _performanceNow2.default)() - start) / 1000).toFixed(3) + 's');
	}).catch(function (error) {
		cov_fdbwryh1q.f[28]++;
		cov_fdbwryh1q.s[76]++;

		log('Tests failed after reinstalling modules. NOT deploying stack..', 'red');
		cov_fdbwryh1q.s[77]++;
		log(error.toString(), 'red');
	});
}

function registerToProxy() {
	cov_fdbwryh1q.f[29]++;
	cov_fdbwryh1q.s[78]++;

	//just delay the action...
	setTimeout(function () {
		cov_fdbwryh1q.f[30]++;

		var routes = (cov_fdbwryh1q.s[79]++, ['*/hasUpdates']);
		cov_fdbwryh1q.s[80]++;
		app._router.stack.forEach(function (route_information) {
			cov_fdbwryh1q.f[31]++;
			cov_fdbwryh1q.s[81]++;

			if ((cov_fdbwryh1q.b[10][0]++, route_information.route) && (cov_fdbwryh1q.b[10][1]++, route_information.route.path)) {
				cov_fdbwryh1q.b[9][0]++;
				cov_fdbwryh1q.s[82]++;

				routes.push(route_information.route.path);
			} else {
				cov_fdbwryh1q.b[9][1]++;
			}
		});
		cov_fdbwryh1q.s[83]++;
		_requestPromiseJson2.default.get('http://' + host + ':' + internal_proxy_port + '/register/service/update-api/' + host + '/' + port + '/' + routes.join(',')).then(function (data) {
			cov_fdbwryh1q.f[32]++;
			cov_fdbwryh1q.s[84]++;

			if (log.DEBUG) {
					cov_fdbwryh1q.b[11][0]++;
					cov_fdbwryh1q.s[85]++;
					log.debug(data);
				} else {
				cov_fdbwryh1q.b[11][1]++;
			}
		}).catch(function (err) {
			cov_fdbwryh1q.f[33]++;
			cov_fdbwryh1q.s[86]++;
			return log.error('Failed to register ', err);
		});
	}, 60000);
}

cov_fdbwryh1q.s[87]++;
app.listen(port, function () {
	cov_fdbwryh1q.f[34]++;
	cov_fdbwryh1q.s[88]++;

	if (developer) {
			cov_fdbwryh1q.b[12][0]++;
			cov_fdbwryh1q.s[89]++;
			registerToProxy();
		} else {
		cov_fdbwryh1q.b[12][1]++;
	}cov_fdbwryh1q.s[90]++;
	log('<span>Auto update </span><a href="http://' + domain + '/update/git/notifyCommit">server</a><span> deployed</span>');
});

cov_fdbwryh1q.s[91]++;
testAndDeploy();