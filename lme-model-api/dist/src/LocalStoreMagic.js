'use strict';

var cov_b4rhyn1pt = function () {
	var path = 'C:\\Users\\michael\\Documents\\lme\\lme-model-api\\src\\LocalStoreMagic.js',
	    hash = '4fcd2801563d4ba6cc7fae1610872cd7fbfa3e65',
	    Function = function () {}.constructor,
	    global = new Function('return this')(),
	    gcv = '__coverage__',
	    coverageData = {
		path: 'C:\\Users\\michael\\Documents\\lme\\lme-model-api\\src\\LocalStoreMagic.js',
		statementMap: {
			'0': {
				start: {
					line: 3,
					column: 24
				},
				end: {
					line: 12,
					column: 1
				}
			},
			'1': {
				start: {
					line: 4,
					column: 1
				},
				end: {
					line: 11,
					column: 5
				}
			},
			'2': {
				start: {
					line: 5,
					column: 15
				},
				end: {
					line: 5,
					column: 18
				}
			},
			'3': {
				start: {
					line: 6,
					column: 2
				},
				end: {
					line: 6,
					column: 49
				}
			},
			'4': {
				start: {
					line: 7,
					column: 2
				},
				end: {
					line: 10,
					column: 3
				}
			},
			'5': {
				start: {
					line: 8,
					column: 14
				},
				end: {
					line: 8,
					column: 26
				}
			},
			'6': {
				start: {
					line: 9,
					column: 15
				},
				end: {
					line: 9,
					column: 30
				}
			},
			'7': {
				start: {
					line: 16,
					column: 1
				},
				end: {
					line: 36,
					column: 2
				}
			},
			'8': {
				start: {
					line: 17,
					column: 2
				},
				end: {
					line: 17,
					column: 55
				}
			},
			'9': {
				start: {
					line: 17,
					column: 47
				},
				end: {
					line: 17,
					column: 55
				}
			},
			'10': {
				start: {
					line: 18,
					column: 2
				},
				end: {
					line: 35,
					column: 3
				}
			},
			'11': {
				start: {
					line: 20,
					column: 3
				},
				end: {
					line: 30,
					column: 4
				}
			},
			'12': {
				start: {
					line: 21,
					column: 4
				},
				end: {
					line: 25,
					column: 6
				}
			},
			'13': {
				start: {
					line: 22,
					column: 19
				},
				end: {
					line: 22,
					column: 21
				}
			},
			'14': {
				start: {
					line: 23,
					column: 5
				},
				end: {
					line: 23,
					column: 44
				}
			},
			'15': {
				start: {
					line: 23,
					column: 26
				},
				end: {
					line: 23,
					column: 44
				}
			},
			'16': {
				start: {
					line: 24,
					column: 5
				},
				end: {
					line: 24,
					column: 39
				}
			},
			'17': {
				start: {
					line: 27,
					column: 15
				},
				end: {
					line: 27,
					column: 34
				}
			},
			'18': {
				start: {
					line: 28,
					column: 4
				},
				end: {
					line: 28,
					column: 37
				}
			},
			'19': {
				start: {
					line: 28,
					column: 22
				},
				end: {
					line: 28,
					column: 37
				}
			},
			'20': {
				start: {
					line: 29,
					column: 4
				},
				end: {
					line: 29,
					column: 38
				}
			},
			'21': {
				start: {
					line: 32,
					column: 17
				},
				end: {
					line: 32,
					column: 34
				}
			},
			'22': {
				start: {
					line: 33,
					column: 3
				},
				end: {
					line: 33,
					column: 42
				}
			},
			'23': {
				start: {
					line: 33,
					column: 24
				},
				end: {
					line: 33,
					column: 42
				}
			},
			'24': {
				start: {
					line: 34,
					column: 3
				},
				end: {
					line: 34,
					column: 37
				}
			},
			'25': {
				start: {
					line: 37,
					column: 1
				},
				end: {
					line: 37,
					column: 20
				}
			}
		},
		fnMap: {
			'0': {
				name: '(anonymous_0)',
				decl: {
					start: {
						line: 3,
						column: 24
					},
					end: {
						line: 3,
						column: 25
					}
				},
				loc: {
					start: {
						line: 3,
						column: 52
					},
					end: {
						line: 12,
						column: 1
					}
				},
				line: 3
			},
			'1': {
				name: '(anonymous_1)',
				decl: {
					start: {
						line: 4,
						column: 42
					},
					end: {
						line: 4,
						column: 43
					}
				},
				loc: {
					start: {
						line: 4,
						column: 53
					},
					end: {
						line: 11,
						column: 2
					}
				},
				line: 4
			},
			'2': {
				name: '(anonymous_2)',
				decl: {
					start: {
						line: 8,
						column: 8
					},
					end: {
						line: 8,
						column: 9
					}
				},
				loc: {
					start: {
						line: 8,
						column: 14
					},
					end: {
						line: 8,
						column: 26
					}
				},
				line: 8
			},
			'3': {
				name: '(anonymous_3)',
				decl: {
					start: {
						line: 9,
						column: 8
					},
					end: {
						line: 9,
						column: 9
					}
				},
				loc: {
					start: {
						line: 9,
						column: 15
					},
					end: {
						line: 9,
						column: 30
					}
				},
				line: 9
			},
			'4': {
				name: 'LocalStorage',
				decl: {
					start: {
						line: 14,
						column: 9
					},
					end: {
						line: 14,
						column: 21
					}
				},
				loc: {
					start: {
						line: 14,
						column: 36
					},
					end: {
						line: 38,
						column: 1
					}
				},
				line: 14
			},
			'5': {
				name: '(anonymous_5)',
				decl: {
					start: {
						line: 21,
						column: 27
					},
					end: {
						line: 21,
						column: 28
					}
				},
				loc: {
					start: {
						line: 21,
						column: 33
					},
					end: {
						line: 25,
						column: 5
					}
				},
				line: 21
			}
		},
		branchMap: {
			'0': {
				loc: {
					start: {
						line: 6,
						column: 14
					},
					end: {
						line: 6,
						column: 48
					}
				},
				type: 'binary-expr',
				locations: [{
					start: {
						line: 6,
						column: 14
					},
					end: {
						line: 6,
						column: 26
					}
				}, {
					start: {
						line: 6,
						column: 30
					},
					end: {
						line: 6,
						column: 48
					}
				}],
				line: 6
			},
			'1': {
				loc: {
					start: {
						line: 17,
						column: 2
					},
					end: {
						line: 17,
						column: 55
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 17,
						column: 2
					},
					end: {
						line: 17,
						column: 55
					}
				}, {
					start: {
						line: 17,
						column: 2
					},
					end: {
						line: 17,
						column: 55
					}
				}],
				line: 17
			},
			'2': {
				loc: {
					start: {
						line: 18,
						column: 2
					},
					end: {
						line: 35,
						column: 3
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 18,
						column: 2
					},
					end: {
						line: 35,
						column: 3
					}
				}, {
					start: {
						line: 18,
						column: 2
					},
					end: {
						line: 35,
						column: 3
					}
				}],
				line: 18
			},
			'3': {
				loc: {
					start: {
						line: 20,
						column: 3
					},
					end: {
						line: 30,
						column: 4
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 20,
						column: 3
					},
					end: {
						line: 30,
						column: 4
					}
				}, {
					start: {
						line: 20,
						column: 3
					},
					end: {
						line: 30,
						column: 4
					}
				}],
				line: 20
			},
			'4': {
				loc: {
					start: {
						line: 23,
						column: 5
					},
					end: {
						line: 23,
						column: 44
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 23,
						column: 5
					},
					end: {
						line: 23,
						column: 44
					}
				}, {
					start: {
						line: 23,
						column: 5
					},
					end: {
						line: 23,
						column: 44
					}
				}],
				line: 23
			},
			'5': {
				loc: {
					start: {
						line: 28,
						column: 4
					},
					end: {
						line: 28,
						column: 37
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 28,
						column: 4
					},
					end: {
						line: 28,
						column: 37
					}
				}, {
					start: {
						line: 28,
						column: 4
					},
					end: {
						line: 28,
						column: 37
					}
				}],
				line: 28
			},
			'6': {
				loc: {
					start: {
						line: 33,
						column: 3
					},
					end: {
						line: 33,
						column: 42
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 33,
						column: 3
					},
					end: {
						line: 33,
						column: 42
					}
				}, {
					start: {
						line: 33,
						column: 3
					},
					end: {
						line: 33,
						column: 42
					}
				}],
				line: 33
			}
		},
		s: {
			'0': 0,
			'1': 0,
			'2': 0,
			'3': 0,
			'4': 0,
			'5': 0,
			'6': 0,
			'7': 0,
			'8': 0,
			'9': 0,
			'10': 0,
			'11': 0,
			'12': 0,
			'13': 0,
			'14': 0,
			'15': 0,
			'16': 0,
			'17': 0,
			'18': 0,
			'19': 0,
			'20': 0,
			'21': 0,
			'22': 0,
			'23': 0,
			'24': 0,
			'25': 0
		},
		f: {
			'0': 0,
			'1': 0,
			'2': 0,
			'3': 0,
			'4': 0,
			'5': 0
		},
		b: {
			'0': [0, 0],
			'1': [0, 0],
			'2': [0, 0],
			'3': [0, 0],
			'4': [0, 0],
			'5': [0, 0],
			'6': [0, 0]
		},
		_coverageSchema: 'd34fc3e6b8297bcde183f5492bcb8fcb36775295'
	},
	    coverage = global[gcv] || (global[gcv] = {});

	if (coverage[path] && coverage[path].hash === hash) {
		return coverage[path];
	}

	coverageData.hash = hash;
	return coverage[path] = coverageData;
}();

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.LocalStorage = undefined;

var _typeof2 = require('babel-runtime/helpers/typeof');

var _typeof3 = _interopRequireDefault(_typeof2);

var _localStorage = require('local-storage');

var _localStorage2 = _interopRequireDefault(_localStorage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

cov_b4rhyn1pt.s[0]++;


var define_property = function define_property(user_session, key) {
	cov_b4rhyn1pt.f[0]++;
	cov_b4rhyn1pt.s[1]++;

	Object.defineProperty(user_session, key, function () {
		cov_b4rhyn1pt.f[1]++;

		var akey = (cov_b4rhyn1pt.s[2]++, key);
		cov_b4rhyn1pt.s[3]++;
		_localStorage2.default.set(key, (cov_b4rhyn1pt.b[0][0]++, _localStorage2.default.get(akey)) || (cov_b4rhyn1pt.b[0][1]++, user_session[akey]));
		cov_b4rhyn1pt.s[4]++;
		return {
			get: function get() {
				cov_b4rhyn1pt.f[2]++;
				cov_b4rhyn1pt.s[5]++;
				return _localStorage2.default.get(akey);
			},
			set: function set(v) {
				cov_b4rhyn1pt.f[3]++;
				cov_b4rhyn1pt.s[6]++;
				return _localStorage2.default.set(akey, v);
			}
		};
	}());
};

function LocalStorage(user_session) {
	cov_b4rhyn1pt.f[4]++;
	cov_b4rhyn1pt.s[7]++;


	for (var key in user_session) {
		cov_b4rhyn1pt.s[8]++;

		if ((0, _typeof3.default)(user_session[key]) === 'object') {
				cov_b4rhyn1pt.b[1][0]++;
				cov_b4rhyn1pt.s[9]++;
				continue;
			} else {
			cov_b4rhyn1pt.b[1][1]++;
		} //not interested
		cov_b4rhyn1pt.s[10]++;
		if (typeof user_session[key] === 'function') {
			cov_b4rhyn1pt.b[2][0]++;
			cov_b4rhyn1pt.s[11]++;


			if (typeof user_session[key].then === 'function') {
				cov_b4rhyn1pt.b[3][0]++;
				cov_b4rhyn1pt.s[12]++;

				user_session[key].then(function (ok) {
					cov_b4rhyn1pt.f[5]++;

					var value = (cov_b4rhyn1pt.s[13]++, ok);
					cov_b4rhyn1pt.s[14]++;
					if (value !== '_=_') {
							cov_b4rhyn1pt.b[4][0]++;
							cov_b4rhyn1pt.s[15]++;
							_localStorage2.default.set(key, value);
						} else {
						cov_b4rhyn1pt.b[4][1]++;
					}cov_b4rhyn1pt.s[16]++;
					define_property(user_session, key);
				});
			} else {
				cov_b4rhyn1pt.b[3][1]++;

				var vv = (cov_b4rhyn1pt.s[17]++, user_session[key]());
				cov_b4rhyn1pt.s[18]++;
				if (vv !== '_=_') {
						cov_b4rhyn1pt.b[5][0]++;
						cov_b4rhyn1pt.s[19]++;
						_localStorage2.default.set(key, vv);
					} else {
					cov_b4rhyn1pt.b[5][1]++;
				}cov_b4rhyn1pt.s[20]++;
				define_property(user_session, key);
			}
		} else {
			cov_b4rhyn1pt.b[2][1]++;

			var value = (cov_b4rhyn1pt.s[21]++, user_session[key]);
			cov_b4rhyn1pt.s[22]++;
			if (value !== '_=_') {
					cov_b4rhyn1pt.b[6][0]++;
					cov_b4rhyn1pt.s[23]++;
					_localStorage2.default.set(key, value);
				} else {
				cov_b4rhyn1pt.b[6][1]++;
			}cov_b4rhyn1pt.s[24]++;
			define_property(user_session, key);
		}
	}
	cov_b4rhyn1pt.s[25]++;
	return user_session;
}

exports.LocalStorage = LocalStorage;