<!DOCTYPE html>
<html lang="en" ng-app="lmeapp">
<head>
    <meta charset="UTF-8">
    <title>Angular-include-demo</title>

</head>
<body>
<div ng-controller="lmeController">
    <h1>Show all titles in model {{model.name}}</h1>
    <div ng-repeat="figure in this">
        <span>{{figure.title}}</span>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.6/angular.min.js"></script>
    <script>
        //create an angular application
        var angularApplication = angular.module('lmeapp', []);

        //create an angular controller
        angularApplication.controller('lmeController', function($scope, $http) {

            var url = 'http://blfif-tv-tr03.finance.lab/resources/SCORECARDTESTMODEL.js';
            $http.get(url).then(function(data) {
                //load sync dynamic javascript file
                eval(data.data)
                //create a tree from current loaded model
                //tell angular to apply model nodes to the controller $scope
                $scope.model = LMEMETA.exportWebModel()
                for (var node in   $scope.model.nodes) {
                    $scope[node] = $scope.model.nodes[node]
                }
            }).catch(function(err) {
                console.info(err);
            });
        });
    </script>
</div>
</body>
</html>
