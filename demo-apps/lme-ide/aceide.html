<!DOCTYPE html>
<html ng-app="lmeapp">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>IDE</title>

    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <link href="data:image/x-icon;base64,AAABAAEAEBAAAAAAAABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//AAD8fwAA/H8AAPxjAAD/4wAA/+MAAMY/AADGPwAAxjEAAP/xAAD/8QAA4x8AAOMfAADjHwAA//8AAP//AAA="
          rel="icon" type="image/x-icon">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
    <link rel="stylesheet" href="dist/css/AdminLTE.min.css">
    <link rel="stylesheet" href="dist/css/skins/_all-skins.min.css">
    <link rel="shortcut icon" href="../../favicon_.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/themes/black/pace-theme-flash.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.6/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-filter/0.5.17/angular-filter.min.js"></script>
    <script src="bootstrap.min.js"></script>
    <script src="engineonly.js"></script>
    <script src="aceide.js"></script>
    <link rel="stylesheet" href="aceide.css">

</head>
<body class="controlsidebar hold-transition sidebar-mini skin-blue sidebar-collapse fixed" ng-controller="ideController">
<div id="pagewrapper" class="wrapper">
    <header class="main-header">
        <a class="logo">
            <span class="logo-mini"><b>l</b>me</span>
            <span class="logo-lg"><b>LME</b> IDE</span>
        </a>
        <nav class="navbar navbar-static-top">
            <div class="navbar-custom-menu">
                <div class="col-xs-3">
                    <a class="sidebar-toggle col-xs-1" data-toggle="push-menu" role="button">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                </div>
                <div class="col-xs-6" style="padding-top: 5px;">
                    <div class="input-group" ng-switch="currentView">
                        <span ng-switch-when="FFLModelEditorView" ng-if="breakpoints.length>0" class="input-group-btn">
                             <button type="button" ng-click="callDebug()" data-toggle="tooltip" title="Debug breakpoints" class="btn btn-info btn-flat bg-gray"><i class="fa fa-play"></i></button>
                        </span>
                        <span ng-switch-when="FFLModelEditorView" class="input-group-btn">
                             <button type="button" ng-click="toggleAceEditorMode()" data-toggle="tooltip" title="Toggle economic / FFL" class="btn btn-info btn-flat"><i class="fa fa-cubes"></i></button>
                        </span>
                        <span ng-switch-when="FFLModelEditorView" ng-show="!fflmode" class="input-group-btn">
                              <button ng-click="toggleProperties()" type="button" data-toggle="tooltip" title="show visible, locked, required" class="btn btn-info btn-flat"><i class="fa fa-sliders"></i></button>
                        </span>
                        <span ng-switch-when="FFLModelEditorView" ng-show="fflmode" class="input-group-btn">
                            <button ng-click="toggleFormatter()" type="button" data-toggle="tooltip" title="format" class="btn btn-info btn-flat"><i class="fa fa-indent"></i></button>
                        </span>
                        <span ng-switch-when="FFLModelEditorView" ng-show="fflmode" class="input-group-btn">
                            <button ng-click="toggleScorecardTool()" type="button" data-toggle="tooltip" title="Add InputRequired Formulas to Scorecard variables" class="btn btn-info btn-flat"><i class="fa fa-question"></i></button>
                        </span>
                        <span ng-switch-when="jbehaveView" class="input-group-btn">
                            <button ng-click="runJBehaveTest()" type="button" data-toggle="tooltip" title="run jBehave tests" class="btn btn-info btn-flat"><i class="fa fa-repeat"></i></button>
                        </span>
                        <span ng-switch-when="FFLModelEditorView" ng-show="fflmode" class="input-group-btn">
                            <button ng-click="toggleWrapLines()" type="button" data-toggle="tooltip" title="toggle wrapped view" class="btn btn-info btn-flat"><i class="fa fa-hand-rock-o"></i></button>
                        </span>
                        <input ng-model="session.fflModelPath" id="models" type="text" class="form-control" placeholder="HYPOTHEEK">
                        <span class="input-group-btn">
                                <button id="saveFFLModel" type="button" ng-disabled="!(fflmode && currentView == 'FFLModelEditorView')" ng-click="saveFFLModel()" data-toggle="modal" data-toggle="tooltip"
                                        title="Save {{session.fflModelPath}}" data-target="#modal-success" class="btn btn-info btn-flat"><i class="fa fa-save"></i></button>
                                <button type="button" ng-disabled="!(fflmode && currentView == 'FFLModelEditorView')" ng-click="sneakPreviewModel()" data-toggle="tooltip" title="Preview {{session.fflModelPath}}"
                                        class="btn btn-info btn-flat"><i
                                        class="fa fa-window-restore"></i></button>
                                <button type="button" ng-if="error" data-toggle="tooltip" title="{{error}}"
                                        class="btn btn-info btn-flat" style="background-color: orange"><i
                                        class="fa fa-info-circle"></i></button>
                        </span>
                        <input id="page" ng-model="session.page" type="text" class="form-control" placeholder="grid_bootstrap">
                    </div>
                </div>
                <div class="col-xs-3">
                    <ul class="nav navbar-nav" style="float: right">
                        <li>
                            <a  ng-show="hasChanges" ng-click="update()" data-toggle="tooltip" title="Update server">
                                <i class="fa fa-refresh"></i> <span></span>
                            </a>
                        </li>
                        <li>
                            <a ng-click="togglePropertiesSidebar()" data-toggle="control-sidebar"><i class="fa fa-gears"></i></a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <aside class="main-sidebar">
        <section class="sidebar">
            <div class="user-panel">
                <div class="pull-left image">
                    <img src="dist/img/user2-160x160.jpg" class="img-circle" alt="User Image">
                </div>
                <div class="pull-left info">
                    <p>{{session.user.name}}</p>
                    <a><i class="fa fa-circle text-success"></i> Online</a>
                </div>
            </div>
            <ul class="sidebar-menu" data-widget="tree">
                <li class="treeviwe active">
                    <a ng-click="currentView = 'FFLModelEditorView'" class="data-toggle-ide" data-toggle="tooltip" title="run debug on caret">
                        <i class="fa fa-subscript"></i> <span>IDE</span>
                    </a>
                </li>
                <li class="treeview">
                    <a class="data-story" ng-click="currentView = 'jbehaveView'" data-toggle="tooltip" title="jBehave tests">
                        <i class="fa fa-heartbeat"></i> <span>Tests</span>
                    </a>
                </li>
                </li>
                <li>
                    <a href="excel/{{session.fflModelPath}}" data-toggle="tooltip" title="Download matrix" download>
                        <i class="fa fa-cloud-download"></i> <span>Excel matrix</span>
                    </a>
                </li>
                <li>
                    <a href="http://wiki.finan.nl/index.php/Main_Page" target="_blank" data-toggle="tooltip" title="Formula information">
                        <i class="fa fa-question-circle-o"></i> <span>Formula information</span>
                    </a>
                </li>
            </ul>
        </section>
    </aside>
    <div class="content-wrapper">
        <section id="editor-container" class="content" style="max-height: 90vh;">
            <div class="box" style="max-height: 90vh;">
                <div class="box-body" style="max-height: 90vh;">
                    <pre ng-show="currentView !== 'updateView'" id="editor"></pre>
                    <div ng-show="currentView === 'updateView'">
                        <div ng-show="hasChanges">
                            <p>Update</p>
                            <p>{{changes}}</p>
                        </div>
                        <div ng-show="!hasChanges">
                            <p>No update found</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <footer class="main-footer">
        <div class="pull-right hidden-xs">
            <b>Version</b> 0.0.3
        </div>
        <strong>Copyright &copy; 2014-2017 <a>Michael Bakker</a>.</strong> All rights reserved.
    </footer>
    <aside id="sidebar" class="control-sidebar-dark container">
        <div ng-repeat="p in activeVariable">
            <div class="input-group input-xsm">
                <label>{{p.name}}</label>
                <input placeholder="enter value" class="input-xsm form-control" ng-model="p.value">
            </div>
        </div>
    </aside>
    <div class="control-sidebar-bg"></div>
    <div class="modal modal-info fade" id="modal-success" style="display: none;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span></button>
                    <h4 class="modal-title">{{saveFeedbackTitle}}</h4>
                </div>
                <div class="modal-body">
                    <i class="fa fa-spin fa-refresh"></i>
                    <p>{{saveFeedback}}</p>
                </div>
                <div class="modal-footer">
                    <button ng-disabled="session.disablePreviewButton" ng-click="goToPreviewPage()" type="button" class="btn btn-outline">Preview</button>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jQuery-slimScroll/1.3.8/jquery.slimscroll.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
<script src="dist/js/adminlte.min.js"></script>
<script src="dist/js/demo.js"></script>
<script src="ace.js"></script>
<script src="ext-language_tools.js"></script>
<script src="javascripts/fflmode.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js"></script>
</body>
</html>
