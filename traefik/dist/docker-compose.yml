version: '2'
services:
  reverse-proxy:
    image: traefik
    command: '--api --docker'
    ports:
      - '80:80'
      - '8080:8080'
    volumes:
      - '/var/run/docker.sock:/var/run/docker.sock'
    labels:
    - 'traefik.enable=true'
    - 'traefik.port=8080'
    - 'traefik.frontend.rule=Host:appmodel.org'
    - 'traefik.frontend.rule=Path:/dashboard'
  whoami:
    image: 'emilevauge/whoami:latest'
    labels:
      - 'traefik.enable=true'
      - 'traefik.frontend.rule=Host:appmodel.org'
      - 'traefik.frontend.rule=Path:/whoami/latest'
  ksp:
    image: 'michaelbakker1986/ksp:0.17'
    labels:
      - 'traefik.enable=true'
      - 'traefik.port=8085'
      - 'traefik.frontend.rule=Host:appmodel.org'
      - 'traefik.frontend.rule=Path:/ksp/0.17'
