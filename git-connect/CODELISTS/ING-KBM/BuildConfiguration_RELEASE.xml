<?xml version="1.0" encoding="UTF-8"?>
<project default="make-zipfile" name="Make_ZipFile">
	<tstamp>
        <format property="ldt" pattern="yyyy-MM-dd_HHmm" locale="en,UK" />
	</tstamp>

   	<target name="make-zipfile" description="Make the ZipFile">

   	<!-- === JSON =========================================================================== -->
		<zip destfile="${basedir}/_ZipFile/KBM_deploy_${ldt}_screendefinition.zip">
			<fileset dir="${basedir}/_Project/ScreenDefinitions/" includes="*.screendefinition" /> 
		</zip>

	<!-- === RevisieMKB ==================================================================== -->
		<zip destfile="${basedir}/_ZipFile/KBM_deploy_${ldt}_REVISIEMKB.zip">
			<mappedresources>
				<zipfileset file="${basedir}/REVISIEMKB/JAR/models.REVISIEMKB.model"/>
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/REVISIEMKB/Reports/*"/>
				<globmapper from="reports.revisiemkb.frb.xml" to="reports.questionnaire-revisiemkb.frb-xml"/>
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/_Project/ReportTemplate/*"/>
				<globmapper from="reports.questionnaire-ING.frb.rpt" to="reports.questionnaire-revisiemkb.frb-rpt" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/REVISIEMKB/MappingTables/*"/>
				<globmapper from="EWSWS-REVISIEMKB.Fmt4Table.xml" to="mappings.EWSWS-REVISIEMKB.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/REVISIEMKB/MappingTables/*"/>
				<globmapper from="CRR-REVISIEMKB.Fmt4Table.xml" to="mappings.CRR-REVISIEMKB.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/REVISIEMKB/MappingTables/*"/>
				<globmapper from="OneObligor-REVISIEMKB.Fmt4Table.xml" to="mappings.OneObligor-REVISIEMKB.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/REVISIEMKB/MappingTables/*"/>
				<globmapper from="OverdraftMetrics-REVISIEMKB.Fmt4Table.xml" to="mappings.OverdraftMetrics-REVISIEMKB.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/REVISIEMKB/MappingTables/*"/>
				<globmapper from="Collaterals-REVISIEMKB.Fmt4Table.xml" to="mappings.COLLATERALS-REVISIEMKB.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/REVISIEMKB/MappingTables/*"/>
				<globmapper from="Covenants-REVISIEMKB.Fmt4Table.xml" to="mappings.COVENANTS-REVISIEMKB.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/REVISIEMKB/MappingTables/*"/>
				<globmapper from="FiatComment-REVISIEMKB.Fmt4Table.xml" to="mappings.FiatComment-REVISIEMKB.mapping" />
			</mappedresources>            
			<mappedresources>
				<zipfileset file="${basedir}/REVISIEMKB/MappingTables/*"/>
				<globmapper from="LOANARRANGEMENTS-REVISIEMKB.Fmt4Table.xml" to="mappings.LOANARRANGEMENTS-REVISIEMKB.mapping" />
			</mappedresources>            

            </zip>

		<!-- INGVERSLAG =========================================================================== -->
        
        <zip destfile="${basedir}/_ZipFile/KBM_deploy_${ldt}_INGVERSLAG.zip">
			<mappedresources>
				<zipfileset file="${basedir}/INGVERSLAG/JAR/models.INGVERSLAG.model"/>
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGVERSLAG/Reports/*"/>
				<globmapper from="reports.ingverslag.frb.xml" to="reports.questionnaire-ingverslag.frb-xml"/>
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/_Project/ReportTemplate/*"/>
				<globmapper from="reports.questionnaire-ING.frb.rpt" to="reports.questionnaire-ingverslag.frb-rpt" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGVERSLAG/MappingTables/*"/>
				<globmapper from="EWSWS-INGVerslag.Fmt4Table.xml" to="mappings.EWSWS-INGVERSLAG.mapping" />
			</mappedresources> 
		</zip>

		<!-- reports definitions =========================================================================== -->
		<zip destfile="${basedir}/_ZipFile/KBM_deploy_${ldt}_GENERIC_REPORT.zip">
			<fileset dir="${basedir}/_Project/ReportDefinition" includes="reports.definitions.config" /> 
		</zip>
		
		<!-- Translations =========================================================================== -->
		<zip destfile="${basedir}/_ZipFile/KBM_deploy_TRANSLATIONS_${ldt}.zip">
			<mappedresources>
				<fileset file="${basedir}/../Finan/V05_FinanOnline/_Project/translations.*"/>
				<globmapper from="translations.ff_prognose_translations.csv" to="translations.finan_financials.translation"/>
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/_Project/Translations/ING_translations.translation.csv"/>
				<globmapper from="ING_translations.translation.csv" to="translations.ing_translations.translation"/>
			</mappedresources>
		</zip>

        <!-- INGSGG3 =========================================================================== -->        
		<zip destfile="${basedir}/_ZipFile/KBM_deploy_${ldt}_INGSCG3.zip">
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3/JAR/models.INGSCG3.model"/>
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3/Matrices/G3_Parameters.xls"/>
				<globmapper from="G3_Parameters.xls" to="matrices.G3_Parameters.xls.matrix" />
			</mappedresources>	  
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3/Matrices/G3_Sector.xls"/>
				<globmapper from="G3_Sector.xls" to="matrices.G3_Sector.xls.matrix" />
			</mappedresources>	  			
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3/Reports/*"/>
				<globmapper from="reports.ingscg3.frb.xml" to="reports.questionnaire-ingscg3.frb-xml"/>
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/_Project/ReportTemplate/*"/>
				<globmapper from="reports.questionnaire-ING.frb.rpt" to="reports.questionnaire-ingscg3.frb-rpt" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3/MappingTables/*"/>
				<globmapper from="CRR-INGSCG3.Fmt4Table.xml" to="mappings.CRR-INGSCG3.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3/MappingTables/*"/>
				<globmapper from="Naics-INGSCG3.Fmt4Table.xml" to="mappings.NAICS-INGSCG3.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3/MappingTables/*"/>
				<globmapper from="IFRS-INGSCG3.Fmt4Table.xml" to="mappings.IFRS-INGSCG3.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3/MappingTables/*"/>
				<globmapper from="PartyRegistration-INGSCG3.Fmt4Table.xml" to="mappings.PARTYREGISTRATION-INGSCG3.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3/MappingTables/*"/>
				<globmapper from="EWSWS-INGSCG3.Fmt4Table.xml" to="mappings.EWSWS-INGSCG3.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3/MappingTables/*"/>
				<globmapper from="HistoricRiskRating-INGSCG3.Fmt4Table.xml" to="mappings.HistoricRiskRating-INGSCG3.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3/MappingTables/*"/>
				<globmapper from="OverdraftMetrics-INGSCG3.Fmt4Table.xml" to="mappings.OverdraftMetrics-INGSCG3.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3/MappingTables/*"/>
				<globmapper from="OneObligor-INGSCG3.Fmt4Table.xml" to="mappings.OneObligor-INGSCG3.mapping" />
			</mappedresources>			
		</zip>

     
        <!-- INGSCG3REVMKB =========================================================================== -->
		<zip destfile="${basedir}/_ZipFile/KBM_deploy_${ldt}_INGSCG3REVMKB.zip">
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVMKB/JAR/models.INGSCG3REVMKB.model"/>
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVMKB/Matrices/G3_Rev_Parameters.xls"/>
				<globmapper from="G3_Rev_Parameters.xls" to="matrices.G3_Rev_Parameters.xls.matrix"/>
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVMKB/Matrices/G3_Rev_Sector.xls"/>
				<globmapper from="G3_Rev_Sector.xls" to="matrices.G3_Rev_Sector.xls.matrix"/>
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVMKB/Reports/*"/>
				<globmapper from="reports.ingscg3revmkb.frb.xml" to="reports.questionnaire-ingscg3revmkb.frb-xml"/>
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/_Project/ReportTemplate/*"/>
				<globmapper from="reports.questionnaire-ING.frb.rpt" to="reports.questionnaire-ingscg3revmkb.frb-rpt" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVMKB/MappingTables/*"/>
				<globmapper from="CRR-INGSCG3REVMKB.Fmt4Table.xml" to="mappings.CRR-INGSCG3REVMKB.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVMKB/MappingTables/*"/>
				<globmapper from="Naics-INGSCG3REVMKB.Fmt4Table.xml" to="mappings.NAICS-INGSCG3REVMKB.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVMKB/MappingTables/*"/>
				<globmapper from="IFRS-INGSCG3REVMKB.Fmt4Table.xml" to="mappings.IFRS-INGSCG3REVMKB.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVMKB/MappingTables/*"/>
				<globmapper from="PartyRegistration-INGSCG3REVMKB.Fmt4Table.xml" to="mappings.PARTYREGISTRATION-INGSCG3REVMKB.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVMKB/MappingTables/*"/>
				<globmapper from="EWSWS-INGSCG3REVMKB.Fmt4Table.xml" to="mappings.EWSWS-INGSCG3REVMKB.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVMKB/MappingTables/*"/>
				<globmapper from="HistoricRiskRating-INGSCG3REVMKB.Fmt4Table.xml" to="mappings.HistoricRiskRating-INGSCG3REVMKB.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVMKB/MappingTables/*"/>
				<globmapper from="OverdraftMetrics-INGSCG3REVMKB.Fmt4Table.xml" to="mappings.OverdraftMetrics-INGSCG3REVMKB.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVMKB/MappingTables/*"/>
				<globmapper from="Naics-INGSCG3REVMKB.Fmt4Table.xml" to="mappings.NAICS-INGSCG3REVMKB.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVMKB/MappingTables/*"/>
				<globmapper from="OneObligor-INGSCG3REVMKB.Fmt4Table.xml" to="mappings.OneObligor-INGSCG3REVMKB.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVMKB/MappingTables/*"/>
				<globmapper from="Collaterals-INGSCG3REVMKB.Fmt4Table.xml" to="mappings.COLLATERALS-INGSCG3REVMKB.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVMKB/MappingTables/*"/>
				<globmapper from="Covenants-INGSCG3REVMKB.Fmt4Table.xml" to="mappings.COVENANTS-INGSCG3REVMKB.mapping" />
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVMKB/MappingTables/*"/>
				<globmapper from="FiatComment-INGSCG3REVMKB.Fmt4Table.xml" to="mappings.FiatComment-INGSCG3REVMKB.mapping" />
			</mappedresources>            
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVMKB/MappingTables/*"/>
				<globmapper from="LOANARRANGEMENTS-INGSCG3REVMKB.Fmt4Table.xml" to="mappings.LOANARRANGEMENTS-INGSCG3REVMKB.mapping" />
			</mappedresources>            
		</zip>

        <!-- INGSCG3REVCOV =========================================================================== -->
		<zip destfile="${basedir}/_ZipFile/KBM_deploy_${ldt}_INGSCG3REVCOV.zip">
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVCOV/JAR/models.INGSCG3REVCOV.model"/>
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVCOV/Reports/*"/>
				<globmapper from="reports.ingscg3revcov.frb.xml" to="reports.questionnaire-ingscg3revcov.frb-xml"/>
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/_Project/ReportTemplate/*"/>
				<globmapper from="reports.questionnaire-ING.frb.rpt" to="reports.questionnaire-ingscg3revcov.frb-rpt"/>
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVCOV/MappingTables/*"/>
				<globmapper from="Naics-INGSCG3REVCOV.Fmt4Table.xml" to="mappings.NAICS-INGSCG3REVCOV.mapping"/>
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVCOV/MappingTables/*"/>
				<globmapper from="IFRS-INGSCG3REVCOV.Fmt4Table.xml" to="mappings.IFRS-INGSCG3REVCOV.mapping"/>
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVCOV/MappingTables/*"/>
				<globmapper from="PartyRegistration-INGSCG3REVCOV.Fmt4Table.xml" to="mappings.PARTYREGISTRATION-INGSCG3REVCOV.mapping"/>
			</mappedresources>
			<mappedresources>
				<zipfileset file="${basedir}/INGSCG3REVCOV/MappingTables/*"/>
				<globmapper from="Covenants-INGSCG3REVCOV.Fmt4Table.xml" to="mappings.COVENANTS-INGSCG3REVCOV.mapping"/>
			</mappedresources>
		</zip>


        
        
               
        <!-- =========================================================================== -->
        <!-- ZIP met alle configuraties voor KBM -->
		<zip destfile="${basedir}/_ZipFile/KBM_configurations.zip">
			<fileset dir="${basedir}/_ZipFile/" includes="*KBM_deploy*.zip" /> 
		</zip>
    </target>
</project>
