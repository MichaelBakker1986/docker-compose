FES test stories

Meta:
@author Julian

Scenario: test tuple titles
Given a document with timeunit MONTH for the historic year 2005
And the tuple AssetsTuple

When the tuple AssetsTuple is 3 times added
Then the tuple AssetsTuple should have title Aktiva (1) for index 0
And the tuple AssetsTuple should have title Aktiva (2) for index 1
And the tuple AssetsTuple should have title Aktiva (3) for index 2

When the tuple AssetsTuple on index 1 is removed
Then the tuple AssetsTuple should have title Aktiva (1) for index 0
And the tuple AssetsTuple should have title Aktiva (2) for index 1

When the tuple AssetsTuple title is set to Machine A for index 0
And the tuple AssetsTuple title is set to Machine B for index 1
Then the tuple AssetsTuple should have title Machine A for index 0
And the tuple AssetsTuple should have title Machine B for index 1


Scenario: test tuple formulas
Given a document with timeunit MONTH for the historic year 2005
And the tuple AssetsTuple
And the tuple AssetsTuple_tpBookvalue
And the tuple AssetsTuple_tpInvestment
And the tuple AssetsTuple_tpDepreciation

When the tuple AssetsTuple is 3 times added
And variable AssetsTuple_tpBookValue on index 0 has value 5 for column with month januari and year 2005
And variable AssetsTuple_tpBookValue on index 1 has value 500 for column with month januari and year 2005
And variable AssetsTuple_tpBookValue on index 2 has value 50000 for column with month januari and year 2005
And variable AssetsTuple_tpDepreciation on index 0 has value 1 for column with month januari and year 2005
And variable AssetsTuple_tpDepreciation on index 1 has value 100 for column with month januari and year 2005
And variable AssetsTuple_tpDepreciation on index 2 has value 10000 for column with month januari and year 2005

Then variable AssetsTuple_tpInvestment on index 0 should be the value 6 for column with month januari and year 2005
And variable AssetsTuple_tpInvestment on index 1 should be the value 600 for column with month januari and year 2005
And variable AssetsTuple_tpInvestment on index 2 should be the value 60000 for column with month januari and year 2005


Scenario: unspec on virtual column
Given a document with timeunit MONTH for the forecast years 2008,2009

When variable UnspecSubVariable_1 has value 50 for column with month january in year 2009
And variable UnspecSubVariable_2 has value 50 for column with month january in year 2009
Then variable UnspecSubTotal_1 should be 100 for column with month january in year 2009

When variable UnspecSubVariable_1 has value 100 for column with month february in year 2009
And variable UnspecSubVariable_2 has value 100 for column with month february in year 2009
Then variable UnspecSubTotal_1 should be 200 for column with month february in year 2009

When variable UnspecSubVariable_1 has value 200 for column with month march in year 2009
And variable UnspecSubVariable_2 has value 200 for column with month march in year 2009
Then variable UnspecSubTotal_1 should be 400 for column with month march in year 2009
And variable UnspecSubVariable_1 should be the value 350 for virtual column with year 2009
And variable UnspecSubVariable_2 should be the value 350 for virtual column with year 2009
And variable UnspecSubTotal_1 should be the value 700 for virtual column with year 2009

When variable UnspecSubTotal_1 has value 750 for virtual column with year 2009
Then variable UnspecSubVariable_1 should be the value 375 for virtual column with year 2009
And variable UnspecSubVariable_2 should be the value 375 for virtual column with year 2009


Scenario: testDelayPattern
Given a document with timeunit MONTH for the historic year 2008
When variable PatternSource has values 0, 100, 200, 50, 100, 200, 200, 0, 0, 0, 0, 100  for column 2008
Then variable PaymentOnSales should be the values 0, 10, 30, 55, 75, 45, 70, 80, 60, 0, 0, 10  for column 2008
And variable NonPaymentOnSales should be the values 0, 50, 100, 25, 50, 100, 100, 0, 0, 0, 0, 50 for column 2008
