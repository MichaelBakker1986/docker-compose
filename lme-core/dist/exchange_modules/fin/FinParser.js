'use strict';

var cov_rirrqgig0 = function () {
	var path = 'C:\\Users\\michael\\Documents\\lme\\lme-core\\exchange_modules\\fin\\FinParser.js',
	    hash = 'a4af803dfa5d17302a67c0b10a6322c05c1de149',
	    Function = function () {}.constructor,
	    global = new Function('return this')(),
	    gcv = '__coverage__',
	    coverageData = {
		path: 'C:\\Users\\michael\\Documents\\lme\\lme-core\\exchange_modules\\fin\\FinParser.js',
		statementMap: {
			'0': {
				start: {
					line: 17,
					column: 13
				},
				end: {
					line: 70,
					column: 1
				}
			},
			'1': {
				start: {
					line: 23,
					column: 20
				},
				end: {
					line: 23,
					column: 42
				}
			},
			'2': {
				start: {
					line: 24,
					column: 2
				},
				end: {
					line: 36,
					column: 3
				}
			},
			'3': {
				start: {
					line: 25,
					column: 3
				},
				end: {
					line: 25,
					column: 42
				}
			},
			'4': {
				start: {
					line: 28,
					column: 3
				},
				end: {
					line: 28,
					column: 66
				}
			},
			'5': {
				start: {
					line: 31,
					column: 22
				},
				end: {
					line: 31,
					column: 57
				}
			},
			'6': {
				start: {
					line: 33,
					column: 3
				},
				end: {
					line: 33,
					column: 45
				}
			},
			'7': {
				start: {
					line: 35,
					column: 3
				},
				end: {
					line: 35,
					column: 72
				}
			},
			'8': {
				start: {
					line: 37,
					column: 2
				},
				end: {
					line: 37,
					column: 17
				}
			},
			'9': {
				start: {
					line: 40,
					column: 18
				},
				end: {
					line: 40,
					column: 46
				}
			},
			'10': {
				start: {
					line: 41,
					column: 21
				},
				end: {
					line: 41,
					column: 23
				}
			},
			'11': {
				start: {
					line: 44,
					column: 23
				},
				end: {
					line: 44,
					column: 25
				}
			},
			'12': {
				start: {
					line: 45,
					column: 2
				},
				end: {
					line: 47,
					column: 3
				}
			},
			'13': {
				start: {
					line: 49,
					column: 2
				},
				end: {
					line: 60,
					column: 4
				}
			},
			'14': {
				start: {
					line: 50,
					column: 27
				},
				end: {
					line: 50,
					column: 120
				}
			},
			'15': {
				start: {
					line: 52,
					column: 3
				},
				end: {
					line: 59,
					column: 4
				}
			},
			'16': {
				start: {
					line: 53,
					column: 4
				},
				end: {
					line: 55,
					column: 5
				}
			},
			'17': {
				start: {
					line: 54,
					column: 5
				},
				end: {
					line: 54,
					column: 29
				}
			},
			'18': {
				start: {
					line: 56,
					column: 4
				},
				end: {
					line: 58,
					column: 5
				}
			},
			'19': {
				start: {
					line: 57,
					column: 5
				},
				end: {
					line: 57,
					column: 103
				}
			},
			'20': {
				start: {
					line: 62,
					column: 2
				},
				end: {
					line: 66,
					column: 3
				}
			},
			'21': {
				start: {
					line: 63,
					column: 3
				},
				end: {
					line: 65,
					column: 4
				}
			},
			'22': {
				start: {
					line: 64,
					column: 4
				},
				end: {
					line: 64,
					column: 69
				}
			},
			'23': {
				start: {
					line: 67,
					column: 2
				},
				end: {
					line: 67,
					column: 21
				}
			},
			'24': {
				start: {
					line: 73,
					column: 1
				},
				end: {
					line: 76,
					column: 2
				}
			},
			'25': {
				start: {
					line: 75,
					column: 2
				},
				end: {
					line: 75,
					column: 8
				}
			},
			'26': {
				start: {
					line: 77,
					column: 13
				},
				end: {
					line: 77,
					column: 15
				}
			},
			'27': {
				start: {
					line: 78,
					column: 13
				},
				end: {
					line: 78,
					column: 24
				}
			},
			'28': {
				start: {
					line: 80,
					column: 20
				},
				end: {
					line: 80,
					column: 32
				}
			},
			'29': {
				start: {
					line: 81,
					column: 12
				},
				end: {
					line: 81,
					column: 24
				}
			},
			'30': {
				start: {
					line: 82,
					column: 1
				},
				end: {
					line: 82,
					column: 17
				}
			},
			'31': {
				start: {
					line: 83,
					column: 1
				},
				end: {
					line: 83,
					column: 43
				}
			},
			'32': {
				start: {
					line: 85,
					column: 1
				},
				end: {
					line: 85,
					column: 40
				}
			},
			'33': {
				start: {
					line: 86,
					column: 13
				},
				end: {
					line: 86,
					column: 14
				}
			},
			'34': {
				start: {
					line: 87,
					column: 13
				},
				end: {
					line: 87,
					column: 14
				}
			},
			'35': {
				start: {
					line: 90,
					column: 30
				},
				end: {
					line: 90,
					column: 32
				}
			},
			'36': {
				start: {
					line: 91,
					column: 1
				},
				end: {
					line: 108,
					column: 2
				}
			},
			'37': {
				start: {
					line: 92,
					column: 17
				},
				end: {
					line: 92,
					column: 29
				}
			},
			'38': {
				start: {
					line: 93,
					column: 2
				},
				end: {
					line: 95,
					column: 3
				}
			},
			'39': {
				start: {
					line: 94,
					column: 3
				},
				end: {
					line: 94,
					column: 42
				}
			},
			'40': {
				start: {
					line: 96,
					column: 2
				},
				end: {
					line: 96,
					column: 46
				}
			},
			'41': {
				start: {
					line: 97,
					column: 2
				},
				end: {
					line: 97,
					column: 46
				}
			},
			'42': {
				start: {
					line: 98,
					column: 2
				},
				end: {
					line: 101,
					column: 3
				}
			},
			'43': {
				start: {
					line: 99,
					column: 3
				},
				end: {
					line: 99,
					column: 25
				}
			},
			'44': {
				start: {
					line: 100,
					column: 3
				},
				end: {
					line: 100,
					column: 39
				}
			},
			'45': {
				start: {
					line: 102,
					column: 2
				},
				end: {
					line: 105,
					column: 3
				}
			},
			'46': {
				start: {
					line: 103,
					column: 3
				},
				end: {
					line: 103,
					column: 14
				}
			},
			'47': {
				start: {
					line: 104,
					column: 3
				},
				end: {
					line: 104,
					column: 10
				}
			},
			'48': {
				start: {
					line: 106,
					column: 2
				},
				end: {
					line: 106,
					column: 37
				}
			},
			'49': {
				start: {
					line: 107,
					column: 2
				},
				end: {
					line: 107,
					column: 43
				}
			},
			'50': {
				start: {
					line: 112,
					column: 1
				},
				end: {
					line: 114,
					column: 2
				}
			},
			'51': {
				start: {
					line: 113,
					column: 2
				},
				end: {
					line: 113,
					column: 42
				}
			},
			'52': {
				start: {
					line: 118,
					column: 12
				},
				end: {
					line: 118,
					column: 27
				}
			},
			'53': {
				start: {
					line: 121,
					column: 1
				},
				end: {
					line: 135,
					column: 2
				}
			},
			'54': {
				start: {
					line: 122,
					column: 2
				},
				end: {
					line: 122,
					column: 24
				}
			},
			'55': {
				start: {
					line: 126,
					column: 2
				},
				end: {
					line: 134,
					column: 3
				}
			},
			'56': {
				start: {
					line: 128,
					column: 3
				},
				end: {
					line: 128,
					column: 47
				}
			},
			'57': {
				start: {
					line: 131,
					column: 3
				},
				end: {
					line: 131,
					column: 57
				}
			},
			'58': {
				start: {
					line: 133,
					column: 3
				},
				end: {
					line: 133,
					column: 25
				}
			},
			'59': {
				start: {
					line: 137,
					column: 1
				},
				end: {
					line: 141,
					column: 2
				}
			},
			'60': {
				start: {
					line: 138,
					column: 2
				},
				end: {
					line: 138,
					column: 27
				}
			},
			'61': {
				start: {
					line: 145,
					column: 11
				},
				end: {
					line: 145,
					column: 16
				}
			},
			'62': {
				start: {
					line: 146,
					column: 11
				},
				end: {
					line: 146,
					column: 97
				}
			},
			'63': {
				start: {
					line: 147,
					column: 11
				},
				end: {
					line: 147,
					column: 58
				}
			},
			'64': {
				start: {
					line: 149,
					column: 1
				},
				end: {
					line: 149,
					column: 112
				}
			},
			'65': {
				start: {
					line: 153,
					column: 11
				},
				end: {
					line: 153,
					column: 25
				}
			},
			'66': {
				start: {
					line: 154,
					column: 11
				},
				end: {
					line: 154,
					column: 51
				}
			},
			'67': {
				start: {
					line: 155,
					column: 11
				},
				end: {
					line: 155,
					column: 58
				}
			},
			'68': {
				start: {
					line: 156,
					column: 16
				},
				end: {
					line: 156,
					column: 58
				}
			},
			'69': {
				start: {
					line: 158,
					column: 1
				},
				end: {
					line: 164,
					column: 2
				}
			},
			'70': {
				start: {
					line: 159,
					column: 2
				},
				end: {
					line: 159,
					column: 70
				}
			},
			'71': {
				start: {
					line: 162,
					column: 2
				},
				end: {
					line: 162,
					column: 39
				}
			},
			'72': {
				start: {
					line: 163,
					column: 2
				},
				end: {
					line: 163,
					column: 29
				}
			},
			'73': {
				start: {
					line: 165,
					column: 1
				},
				end: {
					line: 165,
					column: 45
				}
			},
			'74': {
				start: {
					line: 177,
					column: 23
				},
				end: {
					line: 190,
					column: 1
				}
			},
			'75': {
				start: {
					line: 191,
					column: 15
				},
				end: {
					line: 198,
					column: 1
				}
			},
			'76': {
				start: {
					line: 224,
					column: 17
				},
				end: {
					line: 228,
					column: 1
				}
			},
			'77': {
				start: {
					line: 231,
					column: 13
				},
				end: {
					line: 231,
					column: 22
				}
			},
			'78': {
				start: {
					line: 232,
					column: 1
				},
				end: {
					line: 234,
					column: 2
				}
			},
			'79': {
				start: {
					line: 233,
					column: 2
				},
				end: {
					line: 233,
					column: 8
				}
			},
			'80': {
				start: {
					line: 236,
					column: 1
				},
				end: {
					line: 236,
					column: 26
				}
			},
			'81': {
				start: {
					line: 241,
					column: 1
				},
				end: {
					line: 243,
					column: 2
				}
			},
			'82': {
				start: {
					line: 242,
					column: 2
				},
				end: {
					line: 242,
					column: 28
				}
			},
			'83': {
				start: {
					line: 245,
					column: 1
				},
				end: {
					line: 252,
					column: 3
				}
			},
			'84': {
				start: {
					line: 253,
					column: 1
				},
				end: {
					line: 253,
					column: 85
				}
			},
			'85': {
				start: {
					line: 256,
					column: 1
				},
				end: {
					line: 261,
					column: 2
				}
			},
			'86': {
				start: {
					line: 259,
					column: 6
				},
				end: {
					line: 261,
					column: 2
				}
			},
			'87': {
				start: {
					line: 262,
					column: 1
				},
				end: {
					line: 264,
					column: 2
				}
			},
			'88': {
				start: {
					line: 266,
					column: 1
				},
				end: {
					line: 268,
					column: 2
				}
			},
			'89': {
				start: {
					line: 271,
					column: 0
				},
				end: {
					line: 271,
					column: 32
				}
			}
		},
		fnMap: {
			'0': {
				name: '(anonymous_0)',
				decl: {
					start: {
						line: 19,
						column: 10
					},
					end: {
						line: 19,
						column: 11
					}
				},
				loc: {
					start: {
						line: 19,
						column: 25
					},
					end: {
						line: 38,
						column: 2
					}
				},
				line: 19
			},
			'1': {
				name: '(anonymous_1)',
				decl: {
					start: {
						line: 39,
						column: 10
					},
					end: {
						line: 39,
						column: 11
					}
				},
				loc: {
					start: {
						line: 39,
						column: 26
					},
					end: {
						line: 69,
						column: 2
					}
				},
				line: 39
			},
			'2': {
				name: '(anonymous_2)',
				decl: {
					start: {
						line: 49,
						column: 41
					},
					end: {
						line: 49,
						column: 42
					}
				},
				loc: {
					start: {
						line: 49,
						column: 63
					},
					end: {
						line: 60,
						column: 3
					}
				},
				line: 49
			},
			'3': {
				name: 'createVariableTree',
				decl: {
					start: {
						line: 72,
						column: 9
					},
					end: {
						line: 72,
						column: 27
					}
				},
				loc: {
					start: {
						line: 72,
						column: 49
					},
					end: {
						line: 109,
						column: 1
					}
				},
				line: 72
			},
			'4': {
				name: 'createFormulaGroupsSafe',
				decl: {
					start: {
						line: 111,
						column: 9
					},
					end: {
						line: 111,
						column: 32
					}
				},
				loc: {
					start: {
						line: 111,
						column: 53
					},
					end: {
						line: 115,
						column: 1
					}
				},
				line: 111
			},
			'5': {
				name: 'createFormulaSafe',
				decl: {
					start: {
						line: 117,
						column: 9
					},
					end: {
						line: 117,
						column: 26
					}
				},
				loc: {
					start: {
						line: 117,
						column: 46
					},
					end: {
						line: 142,
						column: 1
					}
				},
				line: 117
			},
			'6': {
				name: 'createFinVariableRow',
				decl: {
					start: {
						line: 144,
						column: 9
					},
					end: {
						line: 144,
						column: 29
					}
				},
				loc: {
					start: {
						line: 144,
						column: 47
					},
					end: {
						line: 150,
						column: 1
					}
				},
				line: 144
			},
			'7': {
				name: 'createFinFormulaRow',
				decl: {
					start: {
						line: 152,
						column: 9
					},
					end: {
						line: 152,
						column: 28
					}
				},
				loc: {
					start: {
						line: 152,
						column: 53
					},
					end: {
						line: 166,
						column: 1
					}
				},
				line: 152
			},
			'8': {
				name: 'addNode',
				decl: {
					start: {
						line: 230,
						column: 9
					},
					end: {
						line: 230,
						column: 16
					}
				},
				loc: {
					start: {
						line: 230,
						column: 43
					},
					end: {
						line: 269,
						column: 1
					}
				},
				line: 230
			}
		},
		branchMap: {
			'0': {
				loc: {
					start: {
						line: 24,
						column: 2
					},
					end: {
						line: 36,
						column: 3
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 24,
						column: 2
					},
					end: {
						line: 36,
						column: 3
					}
				}, {
					start: {
						line: 24,
						column: 2
					},
					end: {
						line: 36,
						column: 3
					}
				}],
				line: 24
			},
			'1': {
				loc: {
					start: {
						line: 45,
						column: 2
					},
					end: {
						line: 47,
						column: 3
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 45,
						column: 2
					},
					end: {
						line: 47,
						column: 3
					}
				}, {
					start: {
						line: 45,
						column: 2
					},
					end: {
						line: 47,
						column: 3
					}
				}],
				line: 45
			},
			'2': {
				loc: {
					start: {
						line: 53,
						column: 4
					},
					end: {
						line: 55,
						column: 5
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 53,
						column: 4
					},
					end: {
						line: 55,
						column: 5
					}
				}, {
					start: {
						line: 53,
						column: 4
					},
					end: {
						line: 55,
						column: 5
					}
				}],
				line: 53
			},
			'3': {
				loc: {
					start: {
						line: 56,
						column: 4
					},
					end: {
						line: 58,
						column: 5
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 56,
						column: 4
					},
					end: {
						line: 58,
						column: 5
					}
				}, {
					start: {
						line: 56,
						column: 4
					},
					end: {
						line: 58,
						column: 5
					}
				}],
				line: 56
			},
			'4': {
				loc: {
					start: {
						line: 63,
						column: 3
					},
					end: {
						line: 65,
						column: 4
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 63,
						column: 3
					},
					end: {
						line: 65,
						column: 4
					}
				}, {
					start: {
						line: 63,
						column: 3
					},
					end: {
						line: 65,
						column: 4
					}
				}],
				line: 63
			},
			'5': {
				loc: {
					start: {
						line: 73,
						column: 1
					},
					end: {
						line: 76,
						column: 2
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 73,
						column: 1
					},
					end: {
						line: 76,
						column: 2
					}
				}, {
					start: {
						line: 73,
						column: 1
					},
					end: {
						line: 76,
						column: 2
					}
				}],
				line: 73
			},
			'6': {
				loc: {
					start: {
						line: 93,
						column: 2
					},
					end: {
						line: 95,
						column: 3
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 93,
						column: 2
					},
					end: {
						line: 95,
						column: 3
					}
				}, {
					start: {
						line: 93,
						column: 2
					},
					end: {
						line: 95,
						column: 3
					}
				}],
				line: 93
			},
			'7': {
				loc: {
					start: {
						line: 98,
						column: 2
					},
					end: {
						line: 101,
						column: 3
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 98,
						column: 2
					},
					end: {
						line: 101,
						column: 3
					}
				}, {
					start: {
						line: 98,
						column: 2
					},
					end: {
						line: 101,
						column: 3
					}
				}],
				line: 98
			},
			'8': {
				loc: {
					start: {
						line: 121,
						column: 1
					},
					end: {
						line: 135,
						column: 2
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 121,
						column: 1
					},
					end: {
						line: 135,
						column: 2
					}
				}, {
					start: {
						line: 121,
						column: 1
					},
					end: {
						line: 135,
						column: 2
					}
				}],
				line: 121
			},
			'9': {
				loc: {
					start: {
						line: 137,
						column: 1
					},
					end: {
						line: 141,
						column: 2
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 137,
						column: 1
					},
					end: {
						line: 141,
						column: 2
					}
				}, {
					start: {
						line: 137,
						column: 1
					},
					end: {
						line: 141,
						column: 2
					}
				}],
				line: 137
			},
			'10': {
				loc: {
					start: {
						line: 232,
						column: 1
					},
					end: {
						line: 234,
						column: 2
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 232,
						column: 1
					},
					end: {
						line: 234,
						column: 2
					}
				}, {
					start: {
						line: 232,
						column: 1
					},
					end: {
						line: 234,
						column: 2
					}
				}],
				line: 232
			},
			'11': {
				loc: {
					start: {
						line: 241,
						column: 1
					},
					end: {
						line: 243,
						column: 2
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 241,
						column: 1
					},
					end: {
						line: 243,
						column: 2
					}
				}, {
					start: {
						line: 241,
						column: 1
					},
					end: {
						line: 243,
						column: 2
					}
				}],
				line: 241
			},
			'12': {
				loc: {
					start: {
						line: 241,
						column: 5
					},
					end: {
						line: 241,
						column: 48
					}
				},
				type: 'binary-expr',
				locations: [{
					start: {
						line: 241,
						column: 5
					},
					end: {
						line: 241,
						column: 27
					}
				}, {
					start: {
						line: 241,
						column: 31
					},
					end: {
						line: 241,
						column: 48
					}
				}],
				line: 241
			},
			'13': {
				loc: {
					start: {
						line: 256,
						column: 1
					},
					end: {
						line: 261,
						column: 2
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 256,
						column: 1
					},
					end: {
						line: 261,
						column: 2
					}
				}, {
					start: {
						line: 256,
						column: 1
					},
					end: {
						line: 261,
						column: 2
					}
				}],
				line: 256
			},
			'14': {
				loc: {
					start: {
						line: 259,
						column: 6
					},
					end: {
						line: 261,
						column: 2
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 259,
						column: 6
					},
					end: {
						line: 261,
						column: 2
					}
				}, {
					start: {
						line: 259,
						column: 6
					},
					end: {
						line: 261,
						column: 2
					}
				}],
				line: 259
			},
			'15': {
				loc: {
					start: {
						line: 259,
						column: 10
					},
					end: {
						line: 259,
						column: 87
					}
				},
				type: 'binary-expr',
				locations: [{
					start: {
						line: 259,
						column: 10
					},
					end: {
						line: 259,
						column: 33
					}
				}, {
					start: {
						line: 259,
						column: 37
					},
					end: {
						line: 259,
						column: 60
					}
				}, {
					start: {
						line: 259,
						column: 64
					},
					end: {
						line: 259,
						column: 87
					}
				}],
				line: 259
			},
			'16': {
				loc: {
					start: {
						line: 262,
						column: 1
					},
					end: {
						line: 264,
						column: 2
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 262,
						column: 1
					},
					end: {
						line: 264,
						column: 2
					}
				}, {
					start: {
						line: 262,
						column: 1
					},
					end: {
						line: 264,
						column: 2
					}
				}],
				line: 262
			},
			'17': {
				loc: {
					start: {
						line: 262,
						column: 5
					},
					end: {
						line: 262,
						column: 51
					}
				},
				type: 'binary-expr',
				locations: [{
					start: {
						line: 262,
						column: 5
					},
					end: {
						line: 262,
						column: 26
					}
				}, {
					start: {
						line: 262,
						column: 30
					},
					end: {
						line: 262,
						column: 51
					}
				}],
				line: 262
			},
			'18': {
				loc: {
					start: {
						line: 266,
						column: 1
					},
					end: {
						line: 268,
						column: 2
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 266,
						column: 1
					},
					end: {
						line: 268,
						column: 2
					}
				}, {
					start: {
						line: 266,
						column: 1
					},
					end: {
						line: 268,
						column: 2
					}
				}],
				line: 266
			}
		},
		s: {
			'0': 0,
			'1': 0,
			'2': 0,
			'3': 0,
			'4': 0,
			'5': 0,
			'6': 0,
			'7': 0,
			'8': 0,
			'9': 0,
			'10': 0,
			'11': 0,
			'12': 0,
			'13': 0,
			'14': 0,
			'15': 0,
			'16': 0,
			'17': 0,
			'18': 0,
			'19': 0,
			'20': 0,
			'21': 0,
			'22': 0,
			'23': 0,
			'24': 0,
			'25': 0,
			'26': 0,
			'27': 0,
			'28': 0,
			'29': 0,
			'30': 0,
			'31': 0,
			'32': 0,
			'33': 0,
			'34': 0,
			'35': 0,
			'36': 0,
			'37': 0,
			'38': 0,
			'39': 0,
			'40': 0,
			'41': 0,
			'42': 0,
			'43': 0,
			'44': 0,
			'45': 0,
			'46': 0,
			'47': 0,
			'48': 0,
			'49': 0,
			'50': 0,
			'51': 0,
			'52': 0,
			'53': 0,
			'54': 0,
			'55': 0,
			'56': 0,
			'57': 0,
			'58': 0,
			'59': 0,
			'60': 0,
			'61': 0,
			'62': 0,
			'63': 0,
			'64': 0,
			'65': 0,
			'66': 0,
			'67': 0,
			'68': 0,
			'69': 0,
			'70': 0,
			'71': 0,
			'72': 0,
			'73': 0,
			'74': 0,
			'75': 0,
			'76': 0,
			'77': 0,
			'78': 0,
			'79': 0,
			'80': 0,
			'81': 0,
			'82': 0,
			'83': 0,
			'84': 0,
			'85': 0,
			'86': 0,
			'87': 0,
			'88': 0,
			'89': 0
		},
		f: {
			'0': 0,
			'1': 0,
			'2': 0,
			'3': 0,
			'4': 0,
			'5': 0,
			'6': 0,
			'7': 0,
			'8': 0
		},
		b: {
			'0': [0, 0],
			'1': [0, 0],
			'2': [0, 0],
			'3': [0, 0],
			'4': [0, 0],
			'5': [0, 0],
			'6': [0, 0],
			'7': [0, 0],
			'8': [0, 0],
			'9': [0, 0],
			'10': [0, 0],
			'11': [0, 0],
			'12': [0, 0],
			'13': [0, 0],
			'14': [0, 0],
			'15': [0, 0, 0],
			'16': [0, 0],
			'17': [0, 0],
			'18': [0, 0]
		},
		_coverageSchema: 'd34fc3e6b8297bcde183f5492bcb8fcb36775295'
	},
	    coverage = global[gcv] || (global[gcv] = {});

	if (coverage[path] && coverage[path].hash === hash) {
		return coverage[path];
	}

	coverageData.hash = hash;
	return coverage[path] = coverageData;
}(); /**
      * We might actually need the fin->ffl/lme parser since the main fin language is .fin
      */


var _ValueFacade = require('../../src/ValueFacade');

var _ValueFacade2 = _interopRequireDefault(_ValueFacade);

var _SolutionFacade = require('../../src/SolutionFacade');

var _SolutionFacade2 = _interopRequireDefault(_SolutionFacade);

var _PropertiesAssembler = require('../../src/PropertiesAssembler');

var _PropertiesAssembler2 = _interopRequireDefault(_PropertiesAssembler);

var _astNodeUtils = require('ast-node-utils');

var _FinToJSON = require('./FinToJSON.js');

var _FinToJSON2 = _interopRequireDefault(_FinToJSON);

var _FinFormula = require('../../../ffl/FinFormula.js');

var _FinFormula2 = _interopRequireDefault(_FinFormula);

var _assert = require('assert');

var _assert2 = _interopRequireDefault(_assert);

var _stackAdt = require('stack-adt');

var _stackAdt2 = _interopRequireDefault(_stackAdt);

var _esprima = require('esprima');

var _esprima2 = _interopRequireDefault(_esprima);

var _log = require('log6');

var _log2 = _interopRequireDefault(_log);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

//FIN->JavaScript
var parser = (cov_rirrqgig0.s[0]++, {
	name: 'fin',
	parse: function parse(data) {
		cov_rirrqgig0.f[0]++;

		//should return a parseResult
		//.with a .valid
		var solution;
		var parseResult = (cov_rirrqgig0.s[1]++, _FinToJSON2.default.parse(data));
		cov_rirrqgig0.s[2]++;
		if (!parseResult.valid) {
			cov_rirrqgig0.b[0][0]++;
			cov_rirrqgig0.s[3]++;

			solution = _PropertiesAssembler2.default.create();
		} else {
			cov_rirrqgig0.b[0][1]++;
			cov_rirrqgig0.s[4]++;

			solution = _PropertiesAssembler2.default.create(parseResult.solutionName);

			//at some lines we need to remember some state, f.e. if it were Trend formula or Visible formula
			var finVariables = (cov_rirrqgig0.s[5]++, parseResult.orderedByType.variables);

			cov_rirrqgig0.s[6]++;
			createVariableTree(finVariables, solution);
			//add all Formula Groups, Choices, Trend, NoTrend, Hint, Title
			cov_rirrqgig0.s[7]++;
			createFormulaGroupsSafe(solution, parseResult.orderedByType.formulas);
		}
		cov_rirrqgig0.s[8]++;
		return solution;
	},
	deParse: function deParse(rowId) {
		cov_rirrqgig0.f[1]++;

		var finExport = (cov_rirrqgig0.s[9]++, _PropertiesAssembler2.default.create());
		var exportString = (cov_rirrqgig0.s[10]++, '');
		//= finExport.getName() + "\n\n";
		//exportString += ".Variables\n.Variables\n";
		var formulasString = (cov_rirrqgig0.s[11]++, {});
		cov_rirrqgig0.s[12]++;
		if (rowId) {
			cov_rirrqgig0.b[1][0]++;

			var startuielem; // = PropertiesAssembler.getOrCreateProperty(rowId, 'value')
		} else {
			cov_rirrqgig0.b[1][1]++;
		}

		cov_rirrqgig0.s[13]++;
		_PropertiesAssembler2.default.visit(startuielem, function (node, depth) {
			cov_rirrqgig0.f[2]++;

			var formulaProperties = (cov_rirrqgig0.s[14]++, finExport.gatherFormulaProperties(_ValueFacade2.default.getFormula, _ValueFacade2.default.properties, node.rowId));
			// exportString += createFinVariableRow(node, formulaProperties['title'] || '');
			cov_rirrqgig0.s[15]++;
			for (var key in formulaProperties) {
				cov_rirrqgig0.s[16]++;

				if (formulasString[key] === undefined) {
					cov_rirrqgig0.b[2][0]++;
					cov_rirrqgig0.s[17]++;

					formulasString[key] = '';
				} else {
					cov_rirrqgig0.b[2][1]++;
				}
				cov_rirrqgig0.s[18]++;
				if (formulaProperties[key] !== 'undefined') {
					cov_rirrqgig0.b[3][0]++;
					cov_rirrqgig0.s[19]++;

					formulasString[key] = formulasString[key] + createFinFormulaRow(key, node, formulaProperties[key]);
				} else {
					cov_rirrqgig0.b[3][1]++;
				}
			}
		});

		cov_rirrqgig0.s[20]++;
		for (var key in formulasString) {
			cov_rirrqgig0.s[21]++;

			if (key !== 'title') {
				cov_rirrqgig0.b[4][0]++;
				cov_rirrqgig0.s[22]++;

				exportString += '\n.Formulas ' + key + '\n' + formulasString[key];
			} else {
				cov_rirrqgig0.b[4][1]++;
			}
		}
		cov_rirrqgig0.s[23]++;
		return exportString;
		//+ '\n.Quit';
	}
});

function createVariableTree(variables, solution) {
	cov_rirrqgig0.f[3]++;
	cov_rirrqgig0.s[24]++;

	if (variables.length == 0) {
		cov_rirrqgig0.b[5][0]++;
		cov_rirrqgig0.s[25]++;

		//nothing to do
		return;
	} else {
		cov_rirrqgig0.b[5][1]++;
	}
	var cache = (cov_rirrqgig0.s[26]++, {});
	var stack = (cov_rirrqgig0.s[27]++, new _stackAdt2.default());

	var rootVariable = (cov_rirrqgig0.s[28]++, variables[0]);
	var root = (cov_rirrqgig0.s[29]++, rootVariable);
	cov_rirrqgig0.s[30]++;
	stack.push(root);
	cov_rirrqgig0.s[31]++;
	addNode(solution, rootVariable, undefined);
	//this algorithm required to know the last added variable for a parent.
	cov_rirrqgig0.s[32]++;
	cache[stack.peek().name] = rootVariable;
	var delta = (cov_rirrqgig0.s[33]++, 0);
	var count = (cov_rirrqgig0.s[34]++, 0);

	//FIN contains duplicate variables, we have to do something fun with it later on
	var allreadyAddedVariables = (cov_rirrqgig0.s[35]++, {});
	cov_rirrqgig0.s[36]++;
	for (var i = 1; i < variables.length; i++) {
		var variable = (cov_rirrqgig0.s[37]++, variables[i]);
		cov_rirrqgig0.s[38]++;
		if (allreadyAddedVariables[variable.name]) {
			cov_rirrqgig0.b[6][0]++;
			cov_rirrqgig0.s[39]++;

			variable.name = variable.name + count++;
		} else {
			cov_rirrqgig0.b[6][1]++;
		}
		cov_rirrqgig0.s[40]++;
		allreadyAddedVariables[variable.name] = true;
		cov_rirrqgig0.s[41]++;
		delta = variable._depth - (stack.size() - 1);
		cov_rirrqgig0.s[42]++;
		if (delta > 0) {
			cov_rirrqgig0.b[7][0]++;
			cov_rirrqgig0.s[43]++;

			_assert2.default.equal(delta, 1);
			cov_rirrqgig0.s[44]++;
			stack.push(cache[stack.peek().name]);
		} else {
			cov_rirrqgig0.b[7][1]++;
		}
		cov_rirrqgig0.s[45]++;
		while (delta < 0) {
			cov_rirrqgig0.s[46]++;

			stack.pop();
			cov_rirrqgig0.s[47]++;
			delta++;
		}
		cov_rirrqgig0.s[48]++;
		cache[stack.peek().name] = variable;
		cov_rirrqgig0.s[49]++;
		addNode(solution, variable, stack.peek());
	}
}

function createFormulaGroupsSafe(solution, formulas) {
	cov_rirrqgig0.f[4]++;
	cov_rirrqgig0.s[50]++;

	for (var i = 0; i < formulas.length; i++) {
		cov_rirrqgig0.s[51]++;

		createFormulaSafe(solution, formulas[i]);
	}
}

function createFormulaSafe(solution, formula) {
	cov_rirrqgig0.f[5]++;

	var code = (cov_rirrqgig0.s[52]++, formula.formula);
	var ast;
	//we open a try-catch literally everything could be in there that could make no sense at all, model builder mistake etc..
	cov_rirrqgig0.s[53]++;
	if (ASTCache[code]) {
		cov_rirrqgig0.b[8][0]++;
		cov_rirrqgig0.s[54]++;

		ast = ASTCache[code]();
	} else {
		cov_rirrqgig0.b[8][1]++;
		cov_rirrqgig0.s[55]++;


		try {
			cov_rirrqgig0.s[56]++;

			//so this can fail easy, impossible to fix, external managed etc.
			ast = _esprima2.default.parse(code).body[0].expression;
		} catch (e) {
			cov_rirrqgig0.s[57]++;

			_log2.default.log('cannot parse: ' + JSON.stringify(formula));
			//just add the formula as String value.. maybe it makes sence ..
			cov_rirrqgig0.s[58]++;
			ast = _astNodeUtils.ast.STRING(code);
		}
	}
	//var uiNode = SolutionFacade.createUIFormulaLink(solution, formula.name, formula.property, ast, formula.displayAs)
	cov_rirrqgig0.s[59]++;
	if (formula._delegate) {
		cov_rirrqgig0.b[9][0]++;
		cov_rirrqgig0.s[60]++;

		throw Error('refactored');
		//solution.setDelegate(uiNode, formula._delegate);
		//solution.setParentName(uiNode, formula.parentName);
	} else {
		cov_rirrqgig0.b[9][1]++;
	}
}

function createFinVariableRow(variable, title) {
	cov_rirrqgig0.f[6]++;

	var str = (cov_rirrqgig0.s[61]++, title);
	var pad = (cov_rirrqgig0.s[62]++, '                                                                                    ');
	var and = (cov_rirrqgig0.s[63]++, str + pad.substring(0, pad.length - str.length));

	cov_rirrqgig0.s[64]++;
	return 'PPP      X     ' + variable._depth + '          ' + and.substring(0, 81) + '\\' + variable.rowId + '\n';
}

function createFinFormulaRow(key, variable, formula) {
	cov_rirrqgig0.f[7]++;

	var str = (cov_rirrqgig0.s[65]++, variable.rowId);
	var pad = (cov_rirrqgig0.s[66]++, '                                      ');
	var and = (cov_rirrqgig0.s[67]++, str + pad.substring(0, pad.length - str.length));
	var deparsed = (cov_rirrqgig0.s[68]++, _FinFormula2.default.javaScriptToFinGeneric(formula));
	var formattedFormula;
	cov_rirrqgig0.s[69]++;
	try {
		cov_rirrqgig0.s[70]++;

		formattedFormula = excelFormulaUtilities.formatFormula(deparsed, {});
	} catch (e) {
		cov_rirrqgig0.s[71]++;

		_log2.default.log('Unable to prettyfy:' + e);
		cov_rirrqgig0.s[72]++;
		formattedFormula = deparsed;
	}
	cov_rirrqgig0.s[73]++;
	return and + ' = ' + formattedFormula + '\n';
}

/*space: no special presentation format.
 'D': Display the value of the variable as a date, an optional code in column 7 is the format code. Not possible in combination with a flow variable (a "F", "D", "I" or "M" in column 9).
 'C': a Choice variable, specify the options in the Choices section.
 'T': a Choice variable with that shows a list of columns. The value of the variable is the Internal column number.
 '%': Show the variable as a percentage.
 'G': Display the variable in Growth view. The variable should be a copy-variable.
 'I': Integer variable. The format code in column 7 is normally zero. A positive format code specifies the with of the number, zero's are added before the number in order to reach the width.
 'M': Memo = memoscreen. Memos per period are possible.
 */
var displayAsMapping = (cov_rirrqgig0.s[74]++, {
	C: 'select',
	T: 'select',
	' ': 'StringAnswerType',
	undefined: 'TextAnswerType',
	G: 'AmountAnswerType',
	I: 'StringAnswerType',
	//date: 'DateAnswerType',//requires a converter to work
	//Causing infinite digest cycles, soemthing with Date types with functions returning either 1 or Undefined.
	D: 'StringAnswerType',
	//D: 'DateAnswerType',
	'%': 'PercentageAnswerType',
	M: 'MemoAnswerType'
});
var ASTCache = (cov_rirrqgig0.s[75]++, {
	'undefined': _astNodeUtils.ast.UNDEFINED,
	'On': _astNodeUtils.ast.TRUE,
	'No': _astNodeUtils.ast.FALSE,
	'Off': _astNodeUtils.ast.FALSE,
	'True': _astNodeUtils.ast.TRUE,
	'False': _astNodeUtils.ast.FALSE
	/*
  Column 21: Input required
  space: default situation: no input required.
  '+' or 'R': input is required for this variable. This will be checked when going to a higher level or when the datafile is closed. If no input, a error-message will occur
  Column 1: Protection code of Description
  Protection code of the description of a variable (Title)
  'I': unprotected
  'P': protected
  'N', 'X' or space: entire variable is hidden.
  Apart from the protection code column 1 can also contain:
  'C': Comment displayed in a hint window belonging to variable (same as user comments). NOTE: Not recommended, use the Hints (cmd), see also the Hints specification (fin) section.
 
  */
	/*
  Columns 2-5: Formula set protection code  TODO: using title for the one-col formulaset
  Protection codes per Formulaset:
  Column 1 Title
  Column 2 Notrend (History)
  Column 3 Trend (Forecast)
  Column 4 User
  'I': unprotected
  'P': protected
  'X': hidden, underlying level is hidden as well.
  'N': data is hidden, but underlying level can be reached. It is a node.
  */
});var protection = (cov_rirrqgig0.s[76]++, {
	' ': false,
	'I': false,
	'P': true
});

function addNode(solution, node, parentId) {
	cov_rirrqgig0.f[8]++;

	var rowId = (cov_rirrqgig0.s[77]++, node.name);
	cov_rirrqgig0.s[78]++;
	if (rowId === 'root') {
		cov_rirrqgig0.b[10][0]++;
		cov_rirrqgig0.s[79]++;

		return;
	} else {
		cov_rirrqgig0.b[10][1]++;
	}

	cov_rirrqgig0.s[80]++;
	throw Error('refactored');
	// if (solution.hasNode(rowId)) {
	//     logger.info('Dupe..')
	// }
	var parentName;
	cov_rirrqgig0.s[81]++;
	if ((cov_rirrqgig0.b[12][0]++, parentId !== undefined) && (cov_rirrqgig0.b[12][1]++, parentId !== null)) {
		cov_rirrqgig0.b[11][0]++;
		cov_rirrqgig0.s[82]++;

		parentName = parentId.name;
	} else {
		cov_rirrqgig0.b[11][1]++;
	}

	cov_rirrqgig0.s[83]++;
	createFormulaSafe(solution, {
		_delegate: node,
		parentName: parentName,
		displaytype: displayAsMapping[node.displaytype],
		name: rowId,
		property: 'value',
		formula: 'undefined'
	});
	cov_rirrqgig0.s[84]++;
	createFormulaSafe(solution, { name: rowId, property: 'title', formula: node.title });

	//locked and visibility
	cov_rirrqgig0.s[85]++;
	if (node.protection === 'I') {
		//SolutionFacade.createUIFormulaLink(solution, rowId, 'locked', AST.TRUE())

		cov_rirrqgig0.b[13][0]++;
	} else {
			cov_rirrqgig0.b[13][1]++;
			cov_rirrqgig0.s[86]++;
			if ((cov_rirrqgig0.b[15][0]++, node.protection === 'X') || (cov_rirrqgig0.b[15][1]++, node.protection === ' ') || (cov_rirrqgig0.b[15][2]++, node.protection === 'N')) {
				//    SolutionFacade.createUIFormulaLink(solution, rowId, 'visible', AST.FALSE())

				cov_rirrqgig0.b[14][0]++;
			} else {
				cov_rirrqgig0.b[14][1]++;
			}
		}cov_rirrqgig0.s[87]++;
	if ((cov_rirrqgig0.b[17][0]++, node.required === '+') || (cov_rirrqgig0.b[17][1]++, node.required === 'R')) {
		// SolutionFacade.createUIFormulaLink(solution, rowId, 'required', AST.TRUE())

		cov_rirrqgig0.b[16][0]++;
	} else {
		cov_rirrqgig0.b[16][1]++;
	}

	cov_rirrqgig0.s[88]++;
	if (node.hint.trim().length > 0) {
		//   SolutionFacade.createUIFormulaLink(solution, rowId, 'hint', AST.STRING(node.hint))

		cov_rirrqgig0.b[18][0]++;
	} else {
		cov_rirrqgig0.b[18][1]++;
	}
}

cov_rirrqgig0.s[89]++;
_SolutionFacade2.default.addParser(parser);