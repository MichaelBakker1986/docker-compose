'use strict';

var cov_17lgn8mwx = function () {
	var path = 'C:\\Users\\mbakk\\Documents\\fesjs\\lme-core\\exchange_modules\\lme\\lmeparser.js',
	    hash = '5bceee1a681c50309be13532f07fc1de54c96d99',
	    Function = function () {}.constructor,
	    global = new Function('return this')(),
	    gcv = '__coverage__',
	    coverageData = {
		path: 'C:\\Users\\mbakk\\Documents\\fesjs\\lme-core\\exchange_modules\\lme\\lmeparser.js',
		statementMap: {
			'0': {
				start: {
					line: 7,
					column: 21
				},
				end: {
					line: 7,
					column: 62
				}
			},
			'1': {
				start: {
					line: 8,
					column: 21
				},
				end: {
					line: 8,
					column: 57
				}
			},
			'2': {
				start: {
					line: 9,
					column: 20
				},
				end: {
					line: 9,
					column: 51
				}
			},
			'3': {
				start: {
					line: 10,
					column: 24
				},
				end: {
					line: 10,
					column: 72
				}
			},
			'4': {
				start: {
					line: 10,
					column: 34
				},
				end: {
					line: 10,
					column: 72
				}
			},
			'5': {
				start: {
					line: 11,
					column: 21
				},
				end: {
					line: 11,
					column: 65
				}
			},
			'6': {
				start: {
					line: 11,
					column: 31
				},
				end: {
					line: 11,
					column: 65
				}
			},
			'7': {
				start: {
					line: 15,
					column: 1
				},
				end: {
					line: 15,
					column: 22
				}
			},
			'8': {
				start: {
					line: 16,
					column: 1
				},
				end: {
					line: 16,
					column: 19
				}
			},
			'9': {
				start: {
					line: 17,
					column: 1
				},
				end: {
					line: 17,
					column: 20
				}
			},
			'10': {
				start: {
					line: 18,
					column: 14
				},
				end: {
					line: 18,
					column: 18
				}
			},
			'11': {
				start: {
					line: 19,
					column: 1
				},
				end: {
					line: 19,
					column: 20
				}
			},
			'12': {
				start: {
					line: 20,
					column: 14
				},
				end: {
					line: 20,
					column: 16
				}
			},
			'13': {
				start: {
					line: 21,
					column: 1
				},
				end: {
					line: 21,
					column: 16
				}
			},
			'14': {
				start: {
					line: 22,
					column: 15
				},
				end: {
					line: 22,
					column: 17
				}
			},
			'15': {
				start: {
					line: 23,
					column: 1
				},
				end: {
					line: 27,
					column: 3
				}
			},
			'16': {
				start: {
					line: 24,
					column: 2
				},
				end: {
					line: 24,
					column: 42
				}
			},
			'17': {
				start: {
					line: 25,
					column: 2
				},
				end: {
					line: 25,
					column: 31
				}
			},
			'18': {
				start: {
					line: 26,
					column: 2
				},
				end: {
					line: 26,
					column: 26
				}
			},
			'19': {
				start: {
					line: 28,
					column: 15
				},
				end: {
					line: 28,
					column: 17
				}
			},
			'20': {
				start: {
					line: 30,
					column: 25
				},
				end: {
					line: 30,
					column: 40
				}
			},
			'21': {
				start: {
					line: 31,
					column: 1
				},
				end: {
					line: 53,
					column: 2
				}
			},
			'22': {
				start: {
					line: 32,
					column: 18
				},
				end: {
					line: 32,
					column: 34
				}
			},
			'23': {
				start: {
					line: 33,
					column: 15
				},
				end: {
					line: 33,
					column: 44
				}
			},
			'24': {
				start: {
					line: 34,
					column: 2
				},
				end: {
					line: 52,
					column: 3
				}
			},
			'25': {
				start: {
					line: 35,
					column: 3
				},
				end: {
					line: 35,
					column: 21
				}
			},
			'26': {
				start: {
					line: 36,
					column: 3
				},
				end: {
					line: 51,
					column: 4
				}
			},
			'27': {
				start: {
					line: 37,
					column: 4
				},
				end: {
					line: 37,
					column: 60
				}
			},
			'28': {
				start: {
					line: 38,
					column: 4
				},
				end: {
					line: 38,
					column: 144
				}
			},
			'29': {
				start: {
					line: 40,
					column: 18
				},
				end: {
					line: 40,
					column: 80
				}
			},
			'30': {
				start: {
					line: 41,
					column: 17
				},
				end: {
					line: 41,
					column: 76
				}
			},
			'31': {
				start: {
					line: 42,
					column: 20
				},
				end: {
					line: 42,
					column: 85
				}
			},
			'32': {
				start: {
					line: 43,
					column: 18
				},
				end: {
					line: 43,
					column: 81
				}
			},
			'33': {
				start: {
					line: 44,
					column: 18
				},
				end: {
					line: 44,
					column: 78
				}
			},
			'34': {
				start: {
					line: 45,
					column: 26
				},
				end: {
					line: 45,
					column: 86
				}
			},
			'35': {
				start: {
					line: 46,
					column: 28
				},
				end: {
					line: 46,
					column: 90
				}
			},
			'36': {
				start: {
					line: 47,
					column: 19
				},
				end: {
					line: 47,
					column: 83
				}
			},
			'37': {
				start: {
					line: 48,
					column: 20
				},
				end: {
					line: 48,
					column: 84
				}
			},
			'38': {
				start: {
					line: 50,
					column: 4
				},
				end: {
					line: 50,
					column: 187
				}
			},
			'39': {
				start: {
					line: 54,
					column: 15
				},
				end: {
					line: 54,
					column: 110
				}
			},
			'40': {
				start: {
					line: 56,
					column: 1
				},
				end: {
					line: 56,
					column: 38
				}
			},
			'41': {
				start: {
					line: 57,
					column: 15
				},
				end: {
					line: 57,
					column: 16
				}
			},
			'42': {
				start: {
					line: 58,
					column: 1
				},
				end: {
					line: 68,
					column: 2
				}
			},
			'43': {
				start: {
					line: 59,
					column: 15
				},
				end: {
					line: 59,
					column: 23
				}
			},
			'44': {
				start: {
					line: 60,
					column: 2
				},
				end: {
					line: 67,
					column: 4
				}
			},
			'45': {
				start: {
					line: 71,
					column: 0
				},
				end: {
					line: 71,
					column: 74
				}
			},
			'46': {
				start: {
					line: 71,
					column: 53
				},
				end: {
					line: 71,
					column: 73
				}
			},
			'47': {
				start: {
					line: 72,
					column: 0
				},
				end: {
					line: 79,
					column: 1
				}
			},
			'48': {
				start: {
					line: 73,
					column: 1
				},
				end: {
					line: 73,
					column: 45
				}
			},
			'49': {
				start: {
					line: 74,
					column: 1
				},
				end: {
					line: 78,
					column: 2
				}
			},
			'50': {
				start: {
					line: 75,
					column: 2
				},
				end: {
					line: 75,
					column: 29
				}
			},
			'51': {
				start: {
					line: 77,
					column: 2
				},
				end: {
					line: 77,
					column: 103
				}
			},
			'52': {
				start: {
					line: 77,
					column: 66
				},
				end: {
					line: 77,
					column: 100
				}
			},
			'53': {
				start: {
					line: 81,
					column: 18
				},
				end: {
					line: 102,
					column: 1
				}
			},
			'54': {
				start: {
					line: 85,
					column: 19
				},
				end: {
					line: 85,
					column: 59
				}
			},
			'55': {
				start: {
					line: 86,
					column: 2
				},
				end: {
					line: 86,
					column: 29
				}
			},
			'56': {
				start: {
					line: 87,
					column: 2
				},
				end: {
					line: 87,
					column: 66
				}
			},
			'57': {
				start: {
					line: 87,
					column: 22
				},
				end: {
					line: 87,
					column: 66
				}
			},
			'58': {
				start: {
					line: 88,
					column: 2
				},
				end: {
					line: 88,
					column: 42
				}
			},
			'59': {
				start: {
					line: 90,
					column: 2
				},
				end: {
					line: 90,
					column: 49
				}
			},
			'60': {
				start: {
					line: 91,
					column: 2
				},
				end: {
					line: 91,
					column: 146
				}
			},
			'61': {
				start: {
					line: 91,
					column: 49
				},
				end: {
					line: 91,
					column: 146
				}
			},
			'62': {
				start: {
					line: 92,
					column: 2
				},
				end: {
					line: 92,
					column: 45
				}
			},
			'63': {
				start: {
					line: 92,
					column: 13
				},
				end: {
					line: 92,
					column: 45
				}
			},
			'64': {
				start: {
					line: 93,
					column: 2
				},
				end: {
					line: 93,
					column: 17
				}
			},
			'65': {
				start: {
					line: 96,
					column: 20
				},
				end: {
					line: 96,
					column: 46
				}
			},
			'66': {
				start: {
					line: 97,
					column: 15
				},
				end: {
					line: 97,
					column: 49
				}
			},
			'67': {
				start: {
					line: 98,
					column: 2
				},
				end: {
					line: 98,
					column: 89
				}
			},
			'68': {
				start: {
					line: 98,
					column: 63
				},
				end: {
					line: 98,
					column: 88
				}
			},
			'69': {
				start: {
					line: 99,
					column: 2
				},
				end: {
					line: 99,
					column: 72
				}
			},
			'70': {
				start: {
					line: 99,
					column: 42
				},
				end: {
					line: 99,
					column: 71
				}
			},
			'71': {
				start: {
					line: 100,
					column: 2
				},
				end: {
					line: 100,
					column: 91
				}
			},
			'72': {
				start: {
					line: 100,
					column: 46
				},
				end: {
					line: 100,
					column: 87
				}
			}
		},
		fnMap: {
			'0': {
				name: '(anonymous_0)',
				decl: {
					start: {
						line: 10,
						column: 24
					},
					end: {
						line: 10,
						column: 25
					}
				},
				loc: {
					start: {
						line: 10,
						column: 34
					},
					end: {
						line: 10,
						column: 72
					}
				},
				line: 10
			},
			'1': {
				name: '(anonymous_1)',
				decl: {
					start: {
						line: 11,
						column: 21
					},
					end: {
						line: 11,
						column: 22
					}
				},
				loc: {
					start: {
						line: 11,
						column: 31
					},
					end: {
						line: 11,
						column: 65
					}
				},
				line: 11
			},
			'2': {
				name: 'FormulaInfo',
				decl: {
					start: {
						line: 13,
						column: 9
					},
					end: {
						line: 13,
						column: 20
					}
				},
				loc: {
					start: {
						line: 13,
						column: 49
					},
					end: {
						line: 69,
						column: 1
					}
				},
				line: 13
			},
			'3': {
				name: '(anonymous_3)',
				decl: {
					start: {
						line: 23,
						column: 30
					},
					end: {
						line: 23,
						column: 31
					}
				},
				loc: {
					start: {
						line: 23,
						column: 41
					},
					end: {
						line: 27,
						column: 2
					}
				},
				line: 23
			},
			'4': {
				name: '(anonymous_4)',
				decl: {
					start: {
						line: 71,
						column: 34
					},
					end: {
						line: 71,
						column: 35
					}
				},
				loc: {
					start: {
						line: 71,
						column: 51
					},
					end: {
						line: 71,
						column: 74
					}
				},
				line: 71
			},
			'5': {
				name: '(anonymous_5)',
				decl: {
					start: {
						line: 72,
						column: 35
					},
					end: {
						line: 72,
						column: 36
					}
				},
				loc: {
					start: {
						line: 72,
						column: 53
					},
					end: {
						line: 79,
						column: 1
					}
				},
				line: 72
			},
			'6': {
				name: '(anonymous_6)',
				decl: {
					start: {
						line: 77,
						column: 56
					},
					end: {
						line: 77,
						column: 57
					}
				},
				loc: {
					start: {
						line: 77,
						column: 66
					},
					end: {
						line: 77,
						column: 100
					}
				},
				line: 77
			},
			'7': {
				name: '(anonymous_7)',
				decl: {
					start: {
						line: 84,
						column: 13
					},
					end: {
						line: 84,
						column: 14
					}
				},
				loc: {
					start: {
						line: 84,
						column: 38
					},
					end: {
						line: 94,
						column: 2
					}
				},
				line: 84
			},
			'8': {
				name: '(anonymous_8)',
				decl: {
					start: {
						line: 95,
						column: 13
					},
					end: {
						line: 95,
						column: 14
					}
				},
				loc: {
					start: {
						line: 95,
						column: 39
					},
					end: {
						line: 101,
						column: 2
					}
				},
				line: 95
			},
			'9': {
				name: '(anonymous_9)',
				decl: {
					start: {
						line: 98,
						column: 51
					},
					end: {
						line: 98,
						column: 52
					}
				},
				loc: {
					start: {
						line: 98,
						column: 63
					},
					end: {
						line: 98,
						column: 88
					}
				},
				line: 98
			},
			'10': {
				name: '(anonymous_10)',
				decl: {
					start: {
						line: 99,
						column: 30
					},
					end: {
						line: 99,
						column: 31
					}
				},
				loc: {
					start: {
						line: 99,
						column: 42
					},
					end: {
						line: 99,
						column: 71
					}
				},
				line: 99
			},
			'11': {
				name: '(anonymous_11)',
				decl: {
					start: {
						line: 100,
						column: 30
					},
					end: {
						line: 100,
						column: 31
					}
				},
				loc: {
					start: {
						line: 100,
						column: 46
					},
					end: {
						line: 100,
						column: 87
					}
				},
				line: 100
			}
		},
		branchMap: {
			'0': {
				loc: {
					start: {
						line: 24,
						column: 15
					},
					end: {
						line: 24,
						column: 42
					}
				},
				type: 'binary-expr',
				locations: [{
					start: {
						line: 24,
						column: 15
					},
					end: {
						line: 24,
						column: 25
					}
				}, {
					start: {
						line: 24,
						column: 29
					},
					end: {
						line: 24,
						column: 42
					}
				}],
				line: 24
			},
			'1': {
				loc: {
					start: {
						line: 34,
						column: 2
					},
					end: {
						line: 52,
						column: 3
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 34,
						column: 2
					},
					end: {
						line: 52,
						column: 3
					}
				}, {
					start: {
						line: 34,
						column: 2
					},
					end: {
						line: 52,
						column: 3
					}
				}],
				line: 34
			},
			'2': {
				loc: {
					start: {
						line: 36,
						column: 3
					},
					end: {
						line: 51,
						column: 4
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 36,
						column: 3
					},
					end: {
						line: 51,
						column: 4
					}
				}, {
					start: {
						line: 36,
						column: 3
					},
					end: {
						line: 51,
						column: 4
					}
				}],
				line: 36
			},
			'3': {
				loc: {
					start: {
						line: 38,
						column: 22
					},
					end: {
						line: 38,
						column: 84
					}
				},
				type: 'binary-expr',
				locations: [{
					start: {
						line: 38,
						column: 22
					},
					end: {
						line: 38,
						column: 62
					}
				}, {
					start: {
						line: 38,
						column: 66
					},
					end: {
						line: 38,
						column: 84
					}
				}],
				line: 38
			},
			'4': {
				loc: {
					start: {
						line: 40,
						column: 18
					},
					end: {
						line: 40,
						column: 80
					}
				},
				type: 'binary-expr',
				locations: [{
					start: {
						line: 40,
						column: 18
					},
					end: {
						line: 40,
						column: 58
					}
				}, {
					start: {
						line: 40,
						column: 62
					},
					end: {
						line: 40,
						column: 80
					}
				}],
				line: 40
			},
			'5': {
				loc: {
					start: {
						line: 41,
						column: 17
					},
					end: {
						line: 41,
						column: 76
					}
				},
				type: 'binary-expr',
				locations: [{
					start: {
						line: 41,
						column: 17
					},
					end: {
						line: 41,
						column: 56
					}
				}, {
					start: {
						line: 41,
						column: 60
					},
					end: {
						line: 41,
						column: 76
					}
				}],
				line: 41
			},
			'6': {
				loc: {
					start: {
						line: 42,
						column: 20
					},
					end: {
						line: 42,
						column: 85
					}
				},
				type: 'binary-expr',
				locations: [{
					start: {
						line: 42,
						column: 20
					},
					end: {
						line: 42,
						column: 62
					}
				}, {
					start: {
						line: 42,
						column: 66
					},
					end: {
						line: 42,
						column: 85
					}
				}],
				line: 42
			},
			'7': {
				loc: {
					start: {
						line: 43,
						column: 18
					},
					end: {
						line: 43,
						column: 81
					}
				},
				type: 'binary-expr',
				locations: [{
					start: {
						line: 43,
						column: 18
					},
					end: {
						line: 43,
						column: 58
					}
				}, {
					start: {
						line: 43,
						column: 62
					},
					end: {
						line: 43,
						column: 81
					}
				}],
				line: 43
			},
			'8': {
				loc: {
					start: {
						line: 44,
						column: 18
					},
					end: {
						line: 44,
						column: 78
					}
				},
				type: 'binary-expr',
				locations: [{
					start: {
						line: 44,
						column: 18
					},
					end: {
						line: 44,
						column: 58
					}
				}, {
					start: {
						line: 44,
						column: 62
					},
					end: {
						line: 44,
						column: 78
					}
				}],
				line: 44
			},
			'9': {
				loc: {
					start: {
						line: 45,
						column: 26
					},
					end: {
						line: 45,
						column: 86
					}
				},
				type: 'binary-expr',
				locations: [{
					start: {
						line: 45,
						column: 26
					},
					end: {
						line: 45,
						column: 66
					}
				}, {
					start: {
						line: 45,
						column: 70
					},
					end: {
						line: 45,
						column: 86
					}
				}],
				line: 45
			},
			'10': {
				loc: {
					start: {
						line: 46,
						column: 28
					},
					end: {
						line: 46,
						column: 90
					}
				},
				type: 'binary-expr',
				locations: [{
					start: {
						line: 46,
						column: 28
					},
					end: {
						line: 46,
						column: 70
					}
				}, {
					start: {
						line: 46,
						column: 74
					},
					end: {
						line: 46,
						column: 90
					}
				}],
				line: 46
			},
			'11': {
				loc: {
					start: {
						line: 47,
						column: 19
					},
					end: {
						line: 47,
						column: 83
					}
				},
				type: 'binary-expr',
				locations: [{
					start: {
						line: 47,
						column: 19
					},
					end: {
						line: 47,
						column: 60
					}
				}, {
					start: {
						line: 47,
						column: 64
					},
					end: {
						line: 47,
						column: 83
					}
				}],
				line: 47
			},
			'12': {
				loc: {
					start: {
						line: 48,
						column: 20
					},
					end: {
						line: 48,
						column: 84
					}
				},
				type: 'binary-expr',
				locations: [{
					start: {
						line: 48,
						column: 20
					},
					end: {
						line: 48,
						column: 62
					}
				}, {
					start: {
						line: 48,
						column: 66
					},
					end: {
						line: 48,
						column: 84
					}
				}],
				line: 48
			},
			'13': {
				loc: {
					start: {
						line: 61,
						column: 21
					},
					end: {
						line: 61,
						column: 60
					}
				},
				type: 'cond-expr',
				locations: [{
					start: {
						line: 61,
						column: 46
					},
					end: {
						line: 61,
						column: 55
					}
				}, {
					start: {
						line: 61,
						column: 58
					},
					end: {
						line: 61,
						column: 60
					}
				}],
				line: 61
			},
			'14': {
				loc: {
					start: {
						line: 74,
						column: 1
					},
					end: {
						line: 78,
						column: 2
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 74,
						column: 1
					},
					end: {
						line: 78,
						column: 2
					}
				}, {
					start: {
						line: 74,
						column: 1
					},
					end: {
						line: 78,
						column: 2
					}
				}],
				line: 74
			},
			'15': {
				loc: {
					start: {
						line: 77,
						column: 66
					},
					end: {
						line: 77,
						column: 100
					}
				},
				type: 'cond-expr',
				locations: [{
					start: {
						line: 77,
						column: 87
					},
					end: {
						line: 77,
						column: 96
					}
				}, {
					start: {
						line: 77,
						column: 99
					},
					end: {
						line: 77,
						column: 100
					}
				}],
				line: 77
			},
			'16': {
				loc: {
					start: {
						line: 87,
						column: 2
					},
					end: {
						line: 87,
						column: 66
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 87,
						column: 2
					},
					end: {
						line: 87,
						column: 66
					}
				}, {
					start: {
						line: 87,
						column: 2
					},
					end: {
						line: 87,
						column: 66
					}
				}],
				line: 87
			},
			'17': {
				loc: {
					start: {
						line: 92,
						column: 2
					},
					end: {
						line: 92,
						column: 45
					}
				},
				type: 'if',
				locations: [{
					start: {
						line: 92,
						column: 2
					},
					end: {
						line: 92,
						column: 45
					}
				}, {
					start: {
						line: 92,
						column: 2
					},
					end: {
						line: 92,
						column: 45
					}
				}],
				line: 92
			},
			'18': {
				loc: {
					start: {
						line: 100,
						column: 46
					},
					end: {
						line: 100,
						column: 87
					}
				},
				type: 'cond-expr',
				locations: [{
					start: {
						line: 100,
						column: 70
					},
					end: {
						line: 100,
						column: 79
					}
				}, {
					start: {
						line: 100,
						column: 82
					},
					end: {
						line: 100,
						column: 87
					}
				}],
				line: 100
			}
		},
		s: {
			'0': 0,
			'1': 0,
			'2': 0,
			'3': 0,
			'4': 0,
			'5': 0,
			'6': 0,
			'7': 0,
			'8': 0,
			'9': 0,
			'10': 0,
			'11': 0,
			'12': 0,
			'13': 0,
			'14': 0,
			'15': 0,
			'16': 0,
			'17': 0,
			'18': 0,
			'19': 0,
			'20': 0,
			'21': 0,
			'22': 0,
			'23': 0,
			'24': 0,
			'25': 0,
			'26': 0,
			'27': 0,
			'28': 0,
			'29': 0,
			'30': 0,
			'31': 0,
			'32': 0,
			'33': 0,
			'34': 0,
			'35': 0,
			'36': 0,
			'37': 0,
			'38': 0,
			'39': 0,
			'40': 0,
			'41': 0,
			'42': 0,
			'43': 0,
			'44': 0,
			'45': 0,
			'46': 0,
			'47': 0,
			'48': 0,
			'49': 0,
			'50': 0,
			'51': 0,
			'52': 0,
			'53': 0,
			'54': 0,
			'55': 0,
			'56': 0,
			'57': 0,
			'58': 0,
			'59': 0,
			'60': 0,
			'61': 0,
			'62': 0,
			'63': 0,
			'64': 0,
			'65': 0,
			'66': 0,
			'67': 0,
			'68': 0,
			'69': 0,
			'70': 0,
			'71': 0,
			'72': 0
		},
		f: {
			'0': 0,
			'1': 0,
			'2': 0,
			'3': 0,
			'4': 0,
			'5': 0,
			'6': 0,
			'7': 0,
			'8': 0,
			'9': 0,
			'10': 0,
			'11': 0
		},
		b: {
			'0': [0, 0],
			'1': [0, 0],
			'2': [0, 0],
			'3': [0, 0],
			'4': [0, 0],
			'5': [0, 0],
			'6': [0, 0],
			'7': [0, 0],
			'8': [0, 0],
			'9': [0, 0],
			'10': [0, 0],
			'11': [0, 0],
			'12': [0, 0],
			'13': [0, 0],
			'14': [0, 0],
			'15': [0, 0],
			'16': [0, 0],
			'17': [0, 0],
			'18': [0, 0]
		},
		_coverageSchema: 'd34fc3e6b8297bcde183f5492bcb8fcb36775295'
	},
	    coverage = global[gcv] || (global[gcv] = {});

	if (coverage[path] && coverage[path].hash === hash) {
		return coverage[path];
	}

	coverageData.hash = hash;
	return coverage[path] = coverageData;
}();

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _log = require('log6');

var _FunctionMap = require('../../src/FunctionMap');

var _FunctionMap2 = _interopRequireDefault(_FunctionMap);

var _PropertiesAssembler = require('../../src/PropertiesAssembler');

var _PropertiesAssembler2 = _interopRequireDefault(_PropertiesAssembler);

var _SolutionFacade = require('../../src/SolutionFacade');

var _SolutionFacade2 = _interopRequireDefault(_SolutionFacade);

var _FormulaService = require('../../src/FormulaService');

var _FormulaService2 = _interopRequireDefault(_FormulaService);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var known_widths = (cov_17lgn8mwx.s[0]++, new Set(['locked', 'visible', 'entered']));
var unwantedKeys = (cov_17lgn8mwx.s[1]++, new Set(['delegate', 'ast', 'body']));
var hidden_keys = (cov_17lgn8mwx.s[2]++, new Set(['original', 'parsed']));
cov_17lgn8mwx.s[3]++;
var correctFileName = function correctFileName(name) {
	cov_17lgn8mwx.f[0]++;
	cov_17lgn8mwx.s[4]++;
	return name.split('_').slice(1, -1).join('_');
};
cov_17lgn8mwx.s[5]++;
var variableName = function variableName(name) {
	cov_17lgn8mwx.f[1]++;
	cov_17lgn8mwx.s[6]++;
	return name.split('_').slice(1).join('_');
};

function FormulaInfo(dataArg, schema, modelName) {
	cov_17lgn8mwx.f[2]++;

	var i = void 0;
	cov_17lgn8mwx.s[7]++;
	this.name = modelName;
	cov_17lgn8mwx.s[8]++;
	this.formulas = [];
	cov_17lgn8mwx.s[9]++;
	this.variables = [];
	var self = (cov_17lgn8mwx.s[10]++, this);
	cov_17lgn8mwx.s[11]++;
	this.data = dataArg;
	var data = (cov_17lgn8mwx.s[12]++, []);
	cov_17lgn8mwx.s[13]++;
	this.nodes = [];
	var forms = (cov_17lgn8mwx.s[14]++, {});
	cov_17lgn8mwx.s[15]++;
	_FormulaService2.default.visitFormulas(function (formula) {
		cov_17lgn8mwx.f[3]++;
		cov_17lgn8mwx.s[16]++;

		formula.id = (cov_17lgn8mwx.b[0][0]++, formula.id) || (cov_17lgn8mwx.b[0][1]++, formula.index);
		cov_17lgn8mwx.s[17]++;
		forms[formula.name] = formula;
		cov_17lgn8mwx.s[18]++;
		self.addFormula(formula);
	});
	var names = (cov_17lgn8mwx.s[19]++, {});

	var modelNamePrefix = (cov_17lgn8mwx.s[20]++, modelName + '_');
	cov_17lgn8mwx.s[21]++;
	for (i = 0; i < this.formulas.length; i++) {
		var formula = (cov_17lgn8mwx.s[22]++, this.formulas[i]);
		var name = (cov_17lgn8mwx.s[23]++, correctFileName(formula.name));
		cov_17lgn8mwx.s[24]++;
		if (names[name] === undefined) {
			cov_17lgn8mwx.b[1][0]++;
			cov_17lgn8mwx.s[25]++;

			names[name] = true;
			cov_17lgn8mwx.s[26]++;
			if (formula.ipprotected) {
				cov_17lgn8mwx.b[2][0]++;
				cov_17lgn8mwx.s[27]++;

				(0, _log.info)('formula is ipProtected' + JSON.stringify(formula));
				cov_17lgn8mwx.s[28]++;
				data.push([name, ((cov_17lgn8mwx.b[3][0]++, forms[modelNamePrefix + name + '_title']) || (cov_17lgn8mwx.b[3][1]++, { original: null })).original, null, null, null, null, null, null, null, null]);
			} else {
				cov_17lgn8mwx.b[2][1]++;

				var title = (cov_17lgn8mwx.s[29]++, (cov_17lgn8mwx.b[4][0]++, forms[modelNamePrefix + name + '_title']) || (cov_17lgn8mwx.b[4][1]++, { original: null }));
				var hint = (cov_17lgn8mwx.s[30]++, (cov_17lgn8mwx.b[5][0]++, forms[modelNamePrefix + name + '_hint']) || (cov_17lgn8mwx.b[5][1]++, { original: '' }));
				var visible = (cov_17lgn8mwx.s[31]++, (cov_17lgn8mwx.b[6][0]++, forms[modelNamePrefix + name + '_visible']) || (cov_17lgn8mwx.b[6][1]++, { original: false }));
				var valid = (cov_17lgn8mwx.s[32]++, (cov_17lgn8mwx.b[7][0]++, forms[modelNamePrefix + name + '_valid']) || (cov_17lgn8mwx.b[7][1]++, { original: false }));
				var value = (cov_17lgn8mwx.s[33]++, (cov_17lgn8mwx.b[8][0]++, forms[modelNamePrefix + name + '_value']) || (cov_17lgn8mwx.b[8][1]++, { original: '' }));
				var formula_trend = (cov_17lgn8mwx.s[34]++, (cov_17lgn8mwx.b[9][0]++, forms[modelNamePrefix + name + '_trend']) || (cov_17lgn8mwx.b[9][1]++, { original: '' }));
				var formula_notrend = (cov_17lgn8mwx.s[35]++, (cov_17lgn8mwx.b[10][0]++, forms[modelNamePrefix + name + '_notrend']) || (cov_17lgn8mwx.b[10][1]++, { original: '' }));
				var locked = (cov_17lgn8mwx.s[36]++, (cov_17lgn8mwx.b[11][0]++, forms[modelNamePrefix + name + '_locked']) || (cov_17lgn8mwx.b[11][1]++, { original: false }));
				var choices = (cov_17lgn8mwx.s[37]++, (cov_17lgn8mwx.b[12][0]++, forms[modelNamePrefix + name + '_choices']) || (cov_17lgn8mwx.b[12][1]++, { original: null
					//looks a lot like the Register.js functionality
				}));cov_17lgn8mwx.s[38]++;
				data.push([name, title.original, value.original, formula_trend.original, formula_notrend.original, visible.original, locked.original, choices.original, hint.original, valid.original]);
			}
		} else {
			cov_17lgn8mwx.b[1][1]++;
		}
	}
	var types = (cov_17lgn8mwx.s[39]++, ['name', 'title', 'value', 'notrend', 'trend', 'visible', 'locked', 'choices', 'hint', 'valid']);
	//this.formulas = undefined;
	cov_17lgn8mwx.s[40]++;
	this.meta = { view: { columns: [] } };
	var counter = (cov_17lgn8mwx.s[41]++, 0);
	cov_17lgn8mwx.s[42]++;
	for (i = 0; i < types.length; i++) {
		var type = (cov_17lgn8mwx.s[43]++, types[i]);
		cov_17lgn8mwx.s[44]++;
		self.meta.view.columns.push({
			'width': known_widths.has(type) ? (cov_17lgn8mwx.b[13][0]++, undefined) : (cov_17lgn8mwx.b[13][1]++, 50),
			'name': type,
			'dataTypeName': 'text',
			'fieldName': type,
			'position': counter++,
			'renderTypeName': 'text'
		});
	}
}

cov_17lgn8mwx.s[45]++;
FormulaInfo.prototype.setSchema = function (schema) {
	cov_17lgn8mwx.f[4]++;
	cov_17lgn8mwx.s[46]++;
	this.schema = schema;
};
cov_17lgn8mwx.s[47]++;
FormulaInfo.prototype.addFormula = function (formula) {
	cov_17lgn8mwx.f[5]++;
	cov_17lgn8mwx.s[48]++;

	formula.fflname = variableName(formula.name);
	cov_17lgn8mwx.s[49]++;
	if (!formula.ipprotected) {
			cov_17lgn8mwx.b[14][0]++;
			cov_17lgn8mwx.s[50]++;

			this.formulas.push(formula);
		} else {
		cov_17lgn8mwx.b[14][1]++;
		cov_17lgn8mwx.s[51]++;

		this.formulas.push(JSON.parse(JSON.stringify(formula, function (k, v) {
			cov_17lgn8mwx.f[6]++;
			cov_17lgn8mwx.s[52]++;
			return hidden_keys.has(k) ? (cov_17lgn8mwx.b[15][0]++, undefined) : (cov_17lgn8mwx.b[15][1]++, v);
		})));
	}
};

var LMEParser = (cov_17lgn8mwx.s[53]++, {
	name: 'lme',
	headername: '.finance lme',
	parseData: function parseData(data, workbook) {
		cov_17lgn8mwx.f[7]++;

		var solution = (cov_17lgn8mwx.s[54]++, _SolutionFacade2.default.createSolution(data.name));
		cov_17lgn8mwx.s[55]++;
		solution.nodes = data.nodes;
		cov_17lgn8mwx.s[56]++;
		if (data.variables) {
				cov_17lgn8mwx.b[16][0]++;
				cov_17lgn8mwx.s[57]++;
				_FormulaService2.default.initVariables(data.variables);
			} else {
			cov_17lgn8mwx.b[16][1]++;
		}cov_17lgn8mwx.s[58]++;
		_PropertiesAssembler2.default.bulkInsert(solution);
		//Probably for formula-information
		cov_17lgn8mwx.s[59]++;
		_FormulaService2.default.bulkInsertFormula(data.formulas);
		cov_17lgn8mwx.s[60]++;
		for (var i = 0; i < data.formulas.length; i++) {
			cov_17lgn8mwx.s[61]++;
			_FunctionMap2.default.initializeFormula(data.formulas[i], workbook.context.ma, workbook.context.audittrail);
		}cov_17lgn8mwx.s[62]++;
		if (_log.DEBUG) {
				cov_17lgn8mwx.b[17][0]++;
				cov_17lgn8mwx.s[63]++;
				(0, _log.info)('Done import ' + data.name);
			} else {
			cov_17lgn8mwx.b[17][1]++;
		}cov_17lgn8mwx.s[64]++;
		return solution;
	},
	deParse: function deParse(rowId, workbook) {
		cov_17lgn8mwx.f[8]++;

		var modelName = (cov_17lgn8mwx.s[65]++, workbook.getSolutionName());
		var info = (cov_17lgn8mwx.s[66]++, new FormulaInfo({}, {}, modelName));
		cov_17lgn8mwx.s[67]++;
		_PropertiesAssembler2.default.findAllInSolution(modelName, function (property) {
			cov_17lgn8mwx.f[9]++;
			cov_17lgn8mwx.s[68]++;
			return info.nodes.push(property);
		});
		cov_17lgn8mwx.s[69]++;
		_FormulaService2.default.getVariables(function (variable) {
			cov_17lgn8mwx.f[10]++;
			cov_17lgn8mwx.s[70]++;
			return info.variables.push(variable);
		});
		cov_17lgn8mwx.s[71]++;
		return JSON.stringify(info, function (key, value) {
			cov_17lgn8mwx.f[11]++;
			cov_17lgn8mwx.s[72]++;
			return unwantedKeys.has(key) ? (cov_17lgn8mwx.b[18][0]++, undefined) : (cov_17lgn8mwx.b[18][1]++, value);
		}, 0);
	}
});
exports.default = LMEParser;